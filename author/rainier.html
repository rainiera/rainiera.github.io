<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <title>rainier ababao - Articles by rainier</title>

    <meta charset="utf-8" />
    <link rel="stylesheet" href="/theme/css/poole.css"/>
    <link rel="stylesheet" href="/theme/css/syntax.css"/>
    <link rel="stylesheet" href="/theme/css/lanyon.css"/>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
    <link rel="stylesheet" href="/theme/css/styles.css"/>
  </head>

  <body class="layout-reverse">
<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="profile">
      <img src="/theme/img/profile.png"/>
    </div>
  </div>

  <nav class="sidebar-nav">

    <a class="sidebar-nav-item" href="/"></a>
    <a class="sidebar-nav-item" href="/blog">blog</a>
    <a class="sidebar-nav-item" href="/projects">projects</a>


  </nav>

  <div class="sidebar-item">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <ul class="social">
      <li><a class="sc-github" href="https://github.com/rainiera" target="_blank"><i class="fa fa-github"></i></a></li>
      <li><a class="sc-angellist" href="https://angel.co/rainiera" target="_blank"><i class="fa fa-angellist"></i></a></li>
      <li><a class="sc-linkedin" href="https://linkedin.com/in/rainiera" target="_blank"><i class="fa fa-linkedin"></i></a></li>
      <li><a class="sc-twitter" href="https://twitter.com/rainieratx" target="_blank"><i class="fa fa-twitter"></i></a></li>
    </ul>
  </div>

  <div class="sidebar-item">
    <p>
    &copy; 2016. All rights reserved.
    </p>
    <p class="tiny-note">
      <a class="muted" href="https://github.com/rainiera/pelicanyan">pelicanyan v0.1</a>
    </p>
  </div>
</div>    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">rainier ababao</a>
            <small>reads and writes</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="content-title">
<h2>Articles by rainier</h2>
</div>
<div class="posts">
  <div class="post">
    <h1 class="post-title">
      <a href="/october-7-2018-rnl.html" rel="bookmark" title="Permalink to October 7, 2018 RnL">October 7, 2018&nbsp;RnL</a>
    </h1>
    <span class="post-date">October 07, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p><strong>Reading</strong></p>
<ul>
<li><a href="https://medium.com/@RyanHoliday/how-to-digest-books-above-your-level-and-increase-your-intelligence-a11bd134da13">How To Digest Books Above Your “Level” And Increase Your&nbsp;Intelligence</a></li>
<li><a href="https://commoncog.com/blog/the-principles-sequence/">The Principles Sequence</a> on Commonplace—the first 3 parts (of 8)<ol>
<li>Building Career Moats: A&nbsp;Confession</li>
<li>Principles: A General&nbsp;Summary</li>
<li>Ray Dalio&#8217;s&nbsp;Hyperrealism</li>
</ol>
</li>
</ul>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/september-20-2018-rnl.html" rel="bookmark" title="Permalink to September 20, 2018 RnL">September 20, 2018&nbsp;RnL</a>
    </h1>
    <span class="post-date">September 20, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p><strong>Reading</strong></p>
<ul>
<li>
<p><a href="https://a16z.com/2018/07/20/after-product-market-fit-marc-andreessen-elad-gil/">Where to Go After Product-Market Fit: An Interview with Marc&nbsp;Andressen</a></p>
<blockquote>
<p><span class="dquo">&#8220;</span>The general model for successful tech companies, contrary to myth and legend, is that they become distribution-centric rather than product-centric. They become a distribution channel [and] put many new products through that distribution channel.&#8221;&nbsp;@pmarca</p>
</blockquote>
</li>
<li>
<p><a href="https://twitter.com/patio11/status/1042601643412353024">Twitter thread by&nbsp;@patio</a></p>
<blockquote>
<p>If someone says “Thank you. Your work was key to shipping $X.” and you say “Oh I don’t deserve that! Many people worked on $X.” you have just stapled “<span class="caps">WAS</span> <span class="caps">NOT</span> <span class="caps">KEY</span> <span class="caps">CONTRIBUTOR</span> <span class="caps">ON</span> $X” to their memory of your&nbsp;performance.</p>
</blockquote>
</li>
</ul>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/september-18-2018-rnl.html" rel="bookmark" title="Permalink to September 18, 2018 RnL">September 18, 2018&nbsp;RnL</a>
    </h1>
    <span class="post-date">September 18, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p>I&#8217;ve been swamped with work and life stuff recently (moving, getting furniture, etc.) so I haven&#8217;t found much time to read&nbsp;unfortunately.</p>
<p><strong>Reading</strong></p>
<ul>
<li><a href="[https://www.ribbonfarm.com/2007/06/14/concepts-and-prototypes/](https://www.ribbonfarm.com/2007/06/14/concepts-and-prototypes/)">Concepts and Prototypes</a> by Venkatesh&nbsp;Rao</li>
<li><a href="[https://www.vox.com/2018/9/18/17870200/script-bridesmaid-gifts-wine-glasses](https://www.vox.com/2018/9/18/17870200/script-bridesmaid-gifts-wine-glasses)">Why bouncy, hyper-feminine script is the font of choice for bridesmaid gifts and novelty wine&nbsp;glasses</a></li>
</ul>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/september-11-2018-rnl.html" rel="bookmark" title="Permalink to September 11, 2018 RnL">September 11, 2018&nbsp;RnL</a>
    </h1>
    <span class="post-date">September 11, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p><strong>Reading</strong></p>
<ul>
<li>Chapter 1 of <a href="https://www.manning.com/books/functional-programming-in-scala">Functional Programming in Scala</a> by Paul Chiusano and Runar&nbsp;Bjarnason</li>
<li><a href="https://www.ribbonfarm.com/2009/09/17/your-evil-twins-and-how-to-find-them/">Your Evil Twins and How to Find Them</a> by Venkatesh&nbsp;Rao</li>
<li><a href="https://www.ribbonfarm.com/2011/04/07/extroverts-introverts-aspies-and-codies/">Extroverts, Introverts, Aspies and Codies</a> by Venkatesh&nbsp;Rao</li>
</ul>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/september-10-2018-rnl.html" rel="bookmark" title="Permalink to September 10, 2018 RnL">September 10, 2018&nbsp;RnL</a>
    </h1>
    <span class="post-date">September 10, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p><strong>Reading</strong></p>
<ul>
<li><a href="[https://www.joelonsoftware.com/2006/04/11/the-development-abstraction-layer-2/](https://www.joelonsoftware.com/2006/04/11/the-development-abstraction-layer-2/)">The Development Abstraction Layer</a> by Joel&nbsp;Spolsky</li>
<li><a href="[https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/](https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/)">Things You Should Never Do, Part I</a> by Joel&nbsp;Spolsky</li>
<li><a href="[https://www.ribbonfarm.com/2010/07/26/a-big-little-idea-called-legibility/](https://www.ribbonfarm.com/2010/07/26/a-big-little-idea-called-legibility/)">A Big Little Idea Called Legibility</a> by Venkatesh&nbsp;Rao</li>
<li><a href="[https://twitter.com/nntaleb/status/1038934453974790144](https://twitter.com/nntaleb/status/1038934453974790144)">Principles for Politics under Complexity</a> (Tweet by Nassim Nicholas&nbsp;Taleb)</li>
</ul>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/september-09-2018-rnl-contains-substance.html" rel="bookmark" title="Permalink to September 09, 2018 RnL (contains substance)">September 09, 2018 RnL (contains&nbsp;substance)</a>
    </h1>
    <span class="post-date">September 09, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p><strong>Reading</strong></p>
<ul>
<li><a href="https://www.ribbonfarm.com/2016/04/28/immortality-begins-at-forty/">Immortality Begins at Forty</a> by Venkatesh&nbsp;Rao</li>
<li><a href="https://www.ribbonfarm.com/2015/09/17/how-to-be-a-precious-snowflake/">How to be a Precious Snowflake</a> by Venkatesh&nbsp;Rao</li>
<li><a href="https://techcrunch.com/2018/09/09/tokens-can-better-incentivize-startup-employees-than-equity/">Tokens can better incentivize startup employees than&nbsp;equity</a></li>
</ul>
<p><strong>Listening</strong></p>
<ul>
<li>
<p><a href="http://www.perell.com/podcast/devon-zuegel">Devon Zuegel: Cities as a&nbsp;Superpower</a></p>
<p>Solidly one of the top 10 interesting podcasts I&#8217;ve listened to this year. Key takeaways for&nbsp;me:</p>
<ul>
<li>Major problems like climate change, nuclear disarmament, etc. can be distilled to being instances of coordination problems between parties, which can be mitigated using incentive design. Even as a more mundane/directly-relatable example, modern dating practices are instances of a prisoner&#8217;s dilemma-type coordination&nbsp;problem.</li>
<li>Writing is like playing chess with yourself. Increases your working memory. And other cool&nbsp;stuff.</li>
<li>People are flakier in <span class="caps">SF</span> than in other cities like <span class="caps">NYC</span> and Chicago (interesting reasons more fleshed out on her blog posts (<a href="http://devonzuegel.com/post/why-is-flaking-so-widespread-in-san-francisco">1</a>) (<a href="http://devonzuegel.com/post/re-flaking">2</a>)).</li>
<li>Cities are key to unlocking human potential, and Singapore is pretty cool (I agree). But results would be generally negative if we stretched the governance style out to a whole&nbsp;country.</li>
</ul>
</li>
</ul>
<p><strong>Writing</strong></p>
<ul>
<li><code>${this}</code>.</li>
</ul>
<p><strong>Reflections</strong></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/september-08-2018-rnl-contains-substance.html" rel="bookmark" title="Permalink to September 08, 2018 RnL (contains substance)">September 08, 2018 RnL (contains&nbsp;substance)</a>
    </h1>
    <span class="post-date">September 08, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p><strong>Reading</strong></p>
<ul>
<li>
<p><a href="https://www.ribbonfarm.com/2013/04/10/a-beginners-guide-to-immortality/">A Beginner&#8217;s Guide to Immortality</a> by Venkatesh&nbsp;Rao.</p>
<p>I had a fun conversation with my friend about this, this evening after I read it, specifically the thought experiment called &#8220;Time Machine Test&#8221;. The thought experiment&#8217;s trying to bucket two types of people he defines: &#8220;Ghosts seek appreciative knowledge of both past and future. Vampires seek manipulative knowledge of both past and future, but as a means to changing the future.&#8221; With&nbsp;that:</p>
<p><span class="dquo">&#8220;</span>Time travel: If you could travel in time for 5&nbsp;minutes:</p>
<ol>
<li>Would you choose to travel to the future or the&nbsp;past?</li>
<li>If you choose the past, would you attempt to change the course of history to make your present better, or would you use it to participate in an experience that has always fascinated you, like the cowboy&nbsp;era?</li>
<li>If you went to the future, would you spend your time in the future memorizing stock prices or shopping for things to bring back to your own time, or would simply wander around, trying to see as much as&nbsp;possible?</li>
<li>Would you find a time-machine that allowed for ghostly, non-participatory observation, but no intervention (with future stock prices and sports results being beeped from your memory after), almost as interesting, or uninteresting, because of its practical&nbsp;uselessness?&#8221;</li>
</ol>
<p><strong>My answers</strong>: 1) The future. 2) If I chose the past, I&#8217;d be too scared to cause any of my friends to not exist by some chain of events I&#8217;m oblivious to, but on the condition that it were non-interventionist, it&#8217;d be cool to experience being the first person in space or being an Irish king for 5 min. 3) Wander around. I&#8217;d want to see a supernova explosion with the appropriate eyegear. 4) About almost as&nbsp;interesting.</p>
<p>But I think this questioning (as a heuristic for which bucket you&#8217;re in) is incomplete for people in certain sets of circumstances—like if I were super old and was the only one left in my family, I&#8217;d probably want 5 min of time with them back—but that answer wouldn&#8217;t speak to what kind of person I&#8217;ve been on&nbsp;average.</p>
</li>
<li>
<p>Friend sent me <a href="https://twitter.com/Fox_Summit/status/1038255661975580672">this tweet</a>.</p>
<p>Think you can accumulate both &#8220;macro-&#8221; and &#8220;micro-&#8220;signals in your lifetime, but generally not in parallel. And some upsides are temporally-dependent, e.g., if I had waited to found [X], then someone would&#8217;ve done it before I had the chance to&nbsp;start.</p>
</li>
</ul>
<p><strong>Listening</strong></p>
<ul>
<li>
<p>to my friend talk over drinks in the&nbsp;evening</p>
<p>Heard an interesting insight about how comedians have three &#8220;background threads&#8221; happening in their minds when they present to an&nbsp;audience:</p>
<ol>
<li>sexual, crude humor (which I suggested could be generalized to any roughly culturally-appreciated comedic fallback such as &#8220;self-deprecation&#8221; or&nbsp;&#8220;awkwardness&#8221;)</li>
<li>context-specific humor built up over the course of a&nbsp;storytelling</li>
<li>cross-context-specific humor, which I just blanked out on (I was 3 drinks in by this&nbsp;point)</li>
</ol>
<p>Their argument is that this could generalize/be roughly analagous to the background threads of a storyteller or person performing the act of explaining things in a simple manner. I need to find the Reddit post that this &#8220;framework&#8221; originated&nbsp;from.</p>
<p>Then we talked about what I thought was funny. My&nbsp;answer:</p>
<ul>
<li>absurdity (e.g., Elon Musk publicly smoking weed while leading an organiation that fires people for failing drug&nbsp;tests)</li>
<li>caricatures (e.g., The&nbsp;Office)</li>
<li>very occasionally, nonsense/very awkward non-sequitors. (e.g., If a person comes up during a conversation and says &#8220;What if there was a startup that could [something stupid]&#8221;, I would probably find it funny 20% of the time, and laugh out of politeness 60% of the time. 80/20 true comedic preferences split :: 60/40 falsified preferences for &#8220;the sake of harmonizing the social dynamic&#8221;&nbsp;split.</li>
<li>The rest are subtleties or circumstantial things too intangible for me to describe at the&nbsp;moment.</li>
</ul>
</li>
<li>
<p>to my friend talk over brunch in the early&nbsp;afternoon</p>
<p>they mentioned a Rick and Morty episode (I do not watch the show currently, but might after hearing this) where one of the characters&#8217; spaceships is powered by a tiny civilization that produces energy: 80% of which goes to the spaceship and 20% of which goes to themselves (presumably for&nbsp;sustenance?).</p>
<p>In the episode, the spaceship dies, so Rick and Morty shrink themselves to the tiny civilization&#8217;s size in order to investigate what&#8217;s going on. As it turns out, <span class="caps">THAT</span> civilization figured out how to produce energy with a civilization even smaller than theirs, with a similar 80/20 energy allocation. And this&nbsp;continues&#8230;</p>
<p>We ended up talking about this because I mentioned the trailer for <em>Downsizing</em>, a movie where people have the option to shrink themselves in order to live more luxurious lives with less money (the assumption is that smaller things are cheaper to build). Unfortunately I heard this movie wasn&#8217;t very good. Neat little (no pun intended) thought experiment&nbsp;though.</p>
</li>
</ul>
<p><strong>Writing</strong></p>
<ul>
<li><code>this</code>.</li>
</ul>
<p><strong>Reflections</strong></p>
<ul>
<li>is there a correlation between &#8220;not being quick to anger&#8221; (roughly reworded as &#8220;patience&#8221;) and <span class="caps">IQ</span>? How about <span class="caps">EQ</span>? My friend and I&#8217;s hypothesis is probably yes for <span class="caps">EQ</span>, probably not for <span class="caps">IQ</span>, but perhaps there is a correlation between having the capacity/inclination to see the other party/perspective&#8217;s side and having the capacity/inclination to think long-term, which in turn might have a correlation with&nbsp;intelligence.</li>
</ul>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/september-07-2018-rnl-contains-substance.html" rel="bookmark" title="Permalink to September 07, 2018 RnL (contains substance)">September 07, 2018 RnL (contains&nbsp;substance)</a>
    </h1>
    <span class="post-date">September 07, 2018</span>

    <p><strong>Note</strong>/epistemic status: RnL&#8217;s (reading and listening) are my consumption logs with notes I&#8217;m <span class="caps">OK</span> making public. I spend little time polishing my thoughts and timebox it to no more than 30 min to an hour on days I choose to&nbsp;log.</p>
<p><strong>Reading</strong></p>
<ul>
<li>
<p><a href="https://www.ribbonfarm.com/2009/10/07/the-gervais-principle-or-the-office-according-to-the-office/">The Gervais Principle, Or The Office According to “The Office”</a> by Venkatesh&nbsp;Rao</p>
<p><span class="dquo">&#8220;</span>The <strong>Gervais Principle</strong> is this: Sociopaths, in their own best interests, knowingly promote over-performing losers into middle-management, groom under-performing losers into sociopaths, and leave the average bare-minimum-effort losers to fend for&nbsp;themselves.&#8221;</p>
<p>I want to say that the theory <em>may</em> be incomplete for &#8220;lifestyle businesses&#8221; e.g. sustainable software businesses, situations where the members &#8220;at the top&#8221; are the only members, people own roughly equal amount (no <span class="caps">VC</span>/founder-employee equity disparity) and no one&#8217;s creating less value than they&#8217;re getting (Losers). In this situation (lifestyle business/sustainable software business) all members of the group might be considered Sociopaths. Rao separates &#8220;Loser&#8221; from the cultural context, but I&#8217;m curious if it&#8217;s apt to be consistent and do this for Sociopath&nbsp;category.</p>
<p><span class="caps">OR</span></p>
<p>Is it because &#8220;lifestyle businesses&#8221; do <span class="caps">NOT</span> abide by the MacLeod Life Cycle (as he dubbed), as in they do not live and grow and die/stagnate, they are in slow growth/stagnation (not in a pejorative sense) - that Gervais Principle <strong>is not meant to address these</strong>?</p>
</li>
<li>
<p><a href="https://www.joelonsoftware.com/2003/06/03/fixing-venture-capital/">Fixing Venture Capital</a> by Joel&nbsp;Spolsky</p>
<p>Found via this <a href="https://twitter.com/_inesmontani/status/1037842224187359233">thread</a>. Main idea (does not explicitly but is consistently) stems from <span class="caps">SITG</span>-mechanics/principal-agent problem/situations where the intended recipient is not the beneficiary&nbsp;etc.</p>
</li>
<li>
<p><a href="https://hbr.org/2018/05/how-vc-john-doerr-sets-and-achieves-goals">How <span class="caps">VC</span> John Doerr Sets (and Achieves) Goals</a> on <span class="caps">HBR</span></p>
</li>
<li>
<p><a href="https://hbr.org/2018/02/why-financial-statements-dont-work-for-digital-companies">Why Financial Statements Don’t Work for Digital&nbsp;Companies</a></p>
</li>
<li>
<p><a href="https://apps.ankiweb.net/docs/manual20.html">Anki 2.0 user manual</a>.</p>
<p>Related (read in past): <a href="https://robertheaton.com/2018/06/25/how-to-read/">How to Read</a> by Robert&nbsp;Heaton</p>
</li>
<li>
<p><a href="https://www.lesswrong.com/posts/pkBzPGreRssNfDBnA/a-workflow-with-spaced-repetition">A Workflow with Spaced Repetition</a>.</p>
</li>
</ul>
<p><strong>Listening</strong></p>
<ul>
<li><a href="https://open.spotify.com/user/spotify/playlist/37i9dQZF1DWVqfgj8NZEp1?si=mhViZ453Ria0DcEFMvf-OQ">Coffee Table Jazz</a> by&nbsp;Spotify</li>
<li><a href="https://open.spotify.com/track/6Uhhwk8oJc8SLloZIAQksB?si=PIzWhez3QtKKCZSdy3xbKQ">Machinist</a> by Japanese&nbsp;Breakfast</li>
</ul>
<p><strong>Writing</strong></p>
<ul>
<li>(complete) <a href="https://medium.com/@rainier/actually-useful-tips-for-the-ut-cns-career-fair-d415e7139d30">Actually useful tips for the <span class="caps">UT</span> <span class="caps">CNS</span> Career&nbsp;Fair</a></li>
<li>and&nbsp;this.</li>
</ul>
<p><strong>Reflections</strong></p>
<ul>
<li>need to get better at&nbsp;storytelling</li>
<li><span class="caps">CR</span> (&#8220;conversation retraction&#8221;): series [insert letter here] round does not sufficiently describe &#8220;how far&#8221; a company is along. for <span class="caps">B2B</span> enterprise SaaS, revenue is obviously more than whatever the letter is. then perhaps number of employees (see Spolsky <a href="https://i2.wp.com/www.joelonsoftware.com/wp-content/uploads/2003/06/vc3.png?zoom=2&amp;resize=300%2C200&amp;ssl=1">article graph</a>) but duh I knew that&nbsp;already!</li>
</ul>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/learning-about-lidar-wip.html" rel="bookmark" title="Permalink to Learning about LIDAR (WIP)">Learning about <span class="caps">LIDAR</span> (<span class="caps">WIP</span>)</a>
    </h1>
    <span class="post-date">August 26, 2017</span>

    <p><em>This post is largely a work in progress, I&#8217;ve made a lot of progress in learning that hasn&#8217;t been captured here-just need to find more time to make my thoughts more clear in this sort of&nbsp;format.</em> </p>
<p>There are some tools and things I want to pick up in order to manage self-driving car data. In this document, I track the resources and tools I&#8217;m picking up to get to the knowledge I have currently. To be honest, I don&#8217;t have a very strong physics or computer graphics background, so my selection might reflect&nbsp;that.</p>
<p><strong>What is <span class="caps">LIDAR</span>?&nbsp;(high-level)</strong></p>
<ul>
<li><a href="https://news.voyage.auto/an-introduction-to-lidar-the-key-self-driving-car-sensor-a7e405590cff">An Introduction to <span class="caps">LIDAR</span>: The Key Self-Driving Car&nbsp;Sensor</a></li>
</ul>
<p><strong>Industry players/Self-driving car&nbsp;tech</strong></p>
<ul>
<li><a href="http://ben-evans.com/benedictevans/2017/8/20/winner-takes-all">Winner-takes-all effects in autonomous&nbsp;cars</a></li>
<li><a href="http://spectrum.ieee.org/cars-that-think/transportation/advanced-cars/driverless-tech-startups-are-driving-past-a-trilliondollar-opportunity">Driverless Tech Startups Are Driving Past a Trillion-Dollar&nbsp;Opportunity</a></li>
<li><a href="http://spectrum.ieee.org/cars-that-think/transportation/self-driving/under-the-hood-of-luminars-long-reach-lidar">Under the Hood of Luminar&#8217;s Long-Reach&nbsp;Lidar</a></li>
<li><a href="http://spectrum.ieee.org/cars-that-think/transportation/sensors/quanergy-solid-state-lidar">Quanergy Announces $250 Solid-State <span class="caps">LIDAR</span> for Cars, Robots, and&nbsp;More</a></li>
</ul>
<p>From this, it seems like the major industry players&nbsp;are  </p>
<ul>
<li>Velodyne (<span class="caps">LIDAR</span>)</li>
<li>Quanergy (<span class="caps">LIDAR</span>)</li>
<li>Waymo (Alphabet)&nbsp;(everything)</li>
<li>Uber <span class="caps">ATG</span> (software, maybe&nbsp;everything?)</li>
<li>Lyft (software, maybe&nbsp;everything?)</li>
<li>Cruise (acquired by <span class="caps">GM</span>) (everything but especially&nbsp;software?)</li>
</ul>
<p>The up-and-coming ones seem to&nbsp;be:  </p>
<ul>
<li>Drive.ai (the whole&nbsp;car)</li>
<li>Voyage (the whole&nbsp;car)</li>
<li>Zoox (the whole&nbsp;car)</li>
<li>Comma.ai (self-driving car&nbsp;software)</li>
<li>Luminar (<span class="caps">LIDAR</span>)</li>
</ul>
<p>If I was seriously trying to be a strategist, a competitive landscape map would be apt here. But it&#8217;s simply nice to be aware of the players in the space in order to roughly forecast who might be successful in the space and make a decision about joining one of these&nbsp;companies.</p>
<p>The nice thing about all of these new companies attempting to be &#8220;thought leaders&#8221; in the space is that they publish so much accessible material about the&nbsp;technology.</p>
<p>There are some startups in the space that are making it easier to construct self-driving car data sets. Such as&nbsp;Scale.</p>
<p><strong><span class="caps">LIDAR</span> point cloud data&nbsp;format</strong></p>
<ul>
<li><a href="http://www.mngeo.state.mn.us/committee/elevation/resources/lidar_reality_check.pdf">Reality Check: Processing LiDAR&nbsp;Data</a></li>
</ul>
<p><strong>Object classification</strong> (assumes some <span class="caps">ML</span> experience&nbsp;already)</p>
<ul>
<li><a href="https://hackernoon.com/launch-a-gpu-backed-google-compute-engine-instance-and-setup-tensorflow-keras-and-jupyter-902369ed5272">Launch a <span class="caps">GPU</span>-backed Google Compute Engine instance and setup Tensorflow, Keras and&nbsp;Jupyter</a></li>
</ul>
<p><strong>Language&nbsp;interoperability</strong></p>
<p>A self-driving car is one piece of a very data-intensive system (the other parts are probably the cloud or servers on-prem, etc.). I have a gut feeling about language interoperability being a powerful tool for writing data-intensive systems quickly. Since if it is true that some engineers (particularly in the research and scientific communities) are more productive when they are writing Python, then there is benefit from investing in using tools that can make Python go faster. Things
like Boost Python come to&nbsp;mind&#8230;</p>
<p>This is a pretty cool blog post by one of the <span class="caps">TA</span>&#8217;s of a computational biology class I took a few years ago. It discusses writing a Python module that wraps C++ code, including unit tests: <a href="http://www.benjack.io/2017/06/12/python-cpp-tests.html">Building and testing a hybrid Python/C++&nbsp;package</a></p>
<p>More to&nbsp;come.</p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/perco-koan.html" rel="bookmark" title="Permalink to Perco-koan">Perco-koan</a>
    </h1>
    <span class="post-date">October 07, 2016</span>

    <p>This week I messed up on an question whose solution involved a <span class="caps">BFS</span> over an element&#8217;s left, right, and bottom neighbors in a grid. This post exists to make sure I don&#8217;t mess it up&nbsp;again.</p>
<p>This requires writing the function to get the neighbor coordinates of the element in a grid, like&nbsp;this&#8230;</p>
<div class="highlight"><pre><span></span><span class="n">grid</span> <span class="o">=</span> \
<span class="p">[[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="n">X</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]]</span>

<span class="c1"># let&#39;s say we want the neighbors of the coordinate where &#39;X&#39; is</span>
<span class="n">get_neighbors</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1"># -&gt; [(1, 2), (2, 3), (1, 4)]</span>
</pre></div>


<p>The part in question where I messed up on is my version of a <em>koan</em> (that was the word, Ben!) that I learned from competitive programming class (thanks Arnav, though I doubt you&#8217;ll ever read this). This is the <strong>incorrect</strong> version of a function that I should have really committed to memory by&nbsp;now&#8230;</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_neighbors</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="n">x</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span> \
            <span class="k">if</span> <span class="n">legal</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="n">x</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> \
            <span class="ow">and</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">x</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="n">PASS</span> \ <span class="c1"># problem-dependent</span>
            <span class="ow">and</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">x</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">]</span>
</pre></div>


<p>Do you see&nbsp;it??</p>
<p>There are a few things wrong with it, based on my forgetting that Cartesian coordinates <code>!=</code> the convention for multi-dimensional array indexing. When I&#8217;m coding it and saying it out loud in my head, like &#8220;Yeah, the change in <code>x</code> will be <code>-1</code>, change in <code>y</code> will be <code>0</code> if you go left, <code>x</code> <code>0</code> <code>y</code> <code>-1</code> if you go bottom&#8221;, it makes total sense, but it&#8217;s wrong. Applying a <code>-1</code> transformation to the index associated with <code>y</code> (which is not <code>j</code>, by the way, but <code>i</code>, so that was another mistake) is wrong -
that will examine the neighbor <strong>above</strong> the input&nbsp;coordinate.</p>
<p>This is the correct way to get the left, right, and bottom&nbsp;neighbors:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_neighbors</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
    <span class="n">di</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">dj</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">di</span><span class="p">,</span> <span class="n">dj</span><span class="p">)</span> \
            <span class="k">if</span> <span class="n">legal</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">x</span><span class="p">)</span> \
            <span class="ow">and</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">y</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">PASS</span> \ <span class="c1"># problem-dependent</span>
            <span class="ow">and</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">x</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">]</span>
</pre></div>


<p>Do you see the difference? I flipped the indices I made the association with x-y coordinates for, and changed the <code>-1</code> to <code>+1</code>.</p>
<p>Another interesting problem came up today, which involved a series of sums of a sub-matrix of size K*K in a matrix of size N*M. Here&#8217;s a candidate for a new personal&nbsp;koan:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">subsum</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">j2</span><span class="p">):</span>
    <span class="n">psum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">):</span>
        <span class="n">psum</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j1</span><span class="p">:</span><span class="n">j2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">psum</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span><span class="o">-</span><span class="n">K</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">-</span><span class="n">K</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">subsum</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="n">K</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">K</span><span class="p">)</span> <span class="c1"># do something with this</span>
</pre></div>


<p>Do you think there is a better way to do this? Please email me, so I can get a job&nbsp;😅</p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/going-to-london-for-four-months.html" rel="bookmark" title="Permalink to Going to London for four months">Going to London for four&nbsp;months</a>
    </h1>
    <span class="post-date">September 08, 2016</span>

    <p>In about 52 hours I&#8217;ll get into Heathrow Airport in the <span class="caps">UK</span>. Starting next week, I&#8217;ll be an engineering intern at Desktop Genetics, a hot bioinformatics startup in London focused on a machine learning and data engineering SaaS for <span class="caps">CRISPR</span>/Cas9&nbsp;gene-editing.</p>
<p>Starting out as a biochemistry major in college, realizing my love for <strong>genetics</strong> and later on when I became a computer science major, love for thinking in abstractions and thusly my potential as a <strong>software engineer</strong>, I don&#8217;t think I could have picked up a more exciting opportunity than to intern at a company specializing at the intersection of my first and second&nbsp;loves.</p>
<p>I&#8217;m incredibly grateful and lucky for all of the people and experiences I&#8217;ve had so far that have led me to this point, and can&#8217;t wait to write code that can make an impact on the&nbsp;world.</p>
<p>Living in a foreign country in a continent I&#8217;ve never been to shall also be an&nbsp;adventure.</p>
<p>See you soon,&nbsp;London.</p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/the-silicon-valley-internship.html" rel="bookmark" title="Permalink to The Silicon Valley Internship">The Silicon Valley&nbsp;Internship</a>
    </h1>
    <span class="post-date">August 20, 2016</span>

    <h2>Clover</h2>
<p>I interned at Clover. <strong>Facts about&nbsp;them:</strong></p>
<ul>
<li>Point-of-sales (<span class="caps">POS</span>) platform startup that launched in 2012 and was acquired later that year by First Data, the world&#8217;s largest credit card processing&nbsp;company.</li>
<li>First Data is in charge of sales and support, and Clover engineers the hardware and software for new <span class="caps">POS</span>&nbsp;devices.</li>
<li>There&#8217;s a &#8220;Founder&#8217;s Clause&#8221; in the acquisition contract that would make First Data pay a large fine if they interfered with Clover&#8217;s operations. So it still operates and feels like a&nbsp;startup.</li>
<li>Their devices run a custom fork of Android. They provide an app store and ecosystem with a public <span class="caps">API</span> and <span class="caps">SDK</span> for developers to build business-related apps (e.g. for tabling, employee/inventory management,&nbsp;etc.).</li>
<li>Over 100 people work in the Sunnyvale <span class="caps">HQ</span> as of this writing. However, I saw new engineers and business people get hired every&nbsp;week.</li>
<li>11 engineering interns at Clover <span class="caps">HQ</span> this summer (8 from <span class="caps">UT</span> Austin due to some early employees being&nbsp;alum).</li>
</ul>
<p>It went for 13 weeks, from May 23rd to August 19th,&nbsp;2016.</p>
<p>I was on the server team. My project initially involved integrating a time-series database and fixing a metrics collection service written in Python and a tiny bit of Go. Later on, I helped redesign and rewrite it completely in Go, both experiences from which I learned immensely from. Also, I was assigned bugs and performance issues related to the main server codebase like any other full-time engineer on the team. This allowed me to dust off my Java, learn Netty, pick up a large codebase, understand architectural concepts like the difference between monolith and microservices, and get better at switching tasks&nbsp;quickly.</p>
<p>My favorite part about the server team was how talented everybody had to be. To be a successful server engineer at Clover, you have to be a <strong>full-stack generalist</strong>. I&#8217;m not talking about being able to tie together web app frontends and backends with React, Node.js and MongoDB, although that&#8217;s still a marketable skill on its own. You have to pick up parts of the Android and Web ecosystems to see how your changes will affect those end-users, know database query optimizations, know where it&#8217;s smart to introduce caches and fiddle with the <span class="caps">JVM</span>, account security compliance into your implementations (it is a payments company, after all), and apply statistics for performance anomaly detection. If a critical part of server goes down or experiences significant latency, lots of businesses are potentially affected - the code at Clover <em>matters</em>. But on top of the engineering culture, there are friendly and approachable people everywhere. I didn&#8217;t feel discouraged from asking anyone&nbsp;questions.</p>
<p>The food and perks were nice. We had swanky corporate housing, free Uber for commuting to work and back, highly-customizable lunch from Forkable and catered dinner, daily. Yummy snacks and drinks like harmless coconut water and matcha green tea Kit Kats. Open bar and weekly happy hours if you&#8217;re&nbsp;21+.</p>
<p>Clover was a very good place to intern - I had fun, felt that I had provided tangible value to the company, and learned a ton, which should be the goal of an internship. They are growing and hiring rapidly, and their internship program can only get better every year. I recommend&nbsp;it.</p>
<h2>Why you should try a smaller company at least&nbsp;once</h2>
<p>I&#8217;m a strong believer that software engineering internships should be about trying as many experiences as you can, and <strong>growing</strong>. Especially at small-to-midsize startups, there&#8217;s the unique possibility of witnessing the extremely fast growth of a company. Then you&#8217;ll get to watch (or help 😀) engineers wrestle with scaling issues, listen to product design meetings, overhear business people who aren&#8217;t on a different floor yet perform pitches, participate in a company&#8217;s early all-hands meetings, and so much&nbsp;more.</p>
<p>I&#8217;ve been privileged to intern at two differently-sized startups: a 10-person one and a 110-person one. I&#8217;ve had the chance to report to and get my code reviewed by very senior engineers at each one and push features to production that had a much likely <strong>higher relative impact</strong> (or as my friends in management consulting would call it, &#8220;value add&#8221;) than if I had worked at a larger corporation. Finally, I&#8217;ve gained experience with technologies that are easy to scale, iterate with, and will build the future, including Go, Python, and JavaScript. When I asked some engineers at Clover why they prefer working there over bigger shops, it&#8217;s because of huge technical growth, the available bandwidth to take ownership of, and&nbsp;impact.</p>
<p>I&#8217;m not saying you shouldn&#8217;t work at a larger company - I hope I&#8217;ll get to try it out one day and see which experiences optimize for my growth and personal happiness at whatever stage of life I&#8217;m in. But a smaller company is something, I believe, you should try at least&nbsp;once.</p>
<h2>Silicon&nbsp;Valley</h2>
<p>I went to a few networking events. I couldn&#8217;t intern in Silicon Valley and <em>not</em> network - it&#8217;s Silicon Valley. Tweet or <span class="caps">DM</span> <a href="https://twitter.com/rainieratx">@rainieratx</a> if you missed me at one of&nbsp;them!</p>
<ul>
<li><span class="caps">KPCB</span> Diversity&nbsp;Mixer</li>
<li>Accel Backyard&nbsp;Bash</li>
<li>Keen <span class="caps">IO</span>&nbsp;Party</li>
<li>HackCon <span class="caps">IV</span> (in&nbsp;Colorado)</li>
<li>FutureForce&nbsp;Friendfest</li>
<li>Google <span class="caps">SF</span> Insider&nbsp;Night</li>
<li>Medallia Game&nbsp;Night</li>
<li>Explore&nbsp;Pinterest</li>
<li>Uber Open&nbsp;House</li>
</ul>
<p>I also visited some friends at Facebook and Twitch <span class="caps">HQ</span>. I was surrounded by brilliant engineers, product designers, and thought leaders of the entrepreneurial spirit everywhere. Lots of people were passionate about stuff outside of work or school, and I loved the culture of building the&nbsp;future.</p>
<p>The areas surrounding Sunnyvale were nice. I hung around Palo Alto, Mountain View, and Santa Clara whenever I chilled in South Bay. Visited Half Moon Bay, Santa Cruz, and Yosemite. Went to San Francisco nearly every weekend via Caltrain. Asian food, including sushi and bubble tea, was 10x better there than in Austin. Iced mint mojitos from Philz were amazing but California hasn&#8217;t seemed to figure out breakfast burritos or queso yet&nbsp;😬.</p>
<p>I&#8217;m glad I tried it out, and I wouldn&#8217;t mind coming back to the Bay Area next&nbsp;summer.</p>
<p><em>What did you like about your summer? Questions about my internship?</em><br>
<em>Tweet or <span class="caps">DM</span> <a href="https://twitter.com/rainieratx">@rainieratx</a>!</em></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/crazy-python-one-liners.html" rel="bookmark" title="Permalink to Crazy Python one-liners">Crazy Python&nbsp;one-liners</a>
    </h1>
    <span class="post-date">July 28, 2016</span>

    <h2>Motivation</h2>
<p>In this post, we will explore a string manipulation task with the constraint that the solution is to be in as few lines as possible. Why? Just for fun. I would <em>never</em> commit an unclear, maybe inefficient one-liner into production code just to show off, and you shouldn&#8217;t either. However, I think this and similar constraint puzzles (in the category of what is called &#8220;code golf&#8221;) are really fun mental exercises in abstraction, problem decomposition, and mastering a language&#8217;s esoteric&nbsp;features.</p>
<p>The Slack for one of the student organizations I&#8217;m in has a channel called #<em>politics</em>. The channel&#8217;s pinned post is an ever-growing <span class="caps">URL</span> to a visualization of each channel member&#8217;s political views on the two axes of the political spectrum created by this website: &#8220;Libertarian-Authoritarian&#8221; and&nbsp;&#8220;Left-Right&#8221;.</p>
<p>The following is a sample <span class="caps">URL</span> that&#8217;s pinned in our channel (names replaced with the Greek&nbsp;alphabet):</p>
<div class="highlight"><pre><span></span>https://www.politicalcompass.org/crowdchart?alpha=-3.38%2C-5.38&amp;beta=-2.75%2C-4.62&amp;gamma=-4.63%2C-4.15&amp;delta=-4.75%2C-4.97&amp;epsilon=-9.0%2C-8.31&amp;zeta=-7.38%2C-4.36&amp;eta=-3.5%2C-3.6&amp;theta=-4.38%2C-2.92&amp;iota=-7.13%2C-6.0&amp;kappa=1.63%2C-2.36&amp;lambda=-5.75%2C-6.51&amp;mu=-3.25%2C-3.64&amp;nu=1.75%2C-2.15&amp;xi=-3.75%2C-5.08&amp;name=omicron&amp;ec=-4.88&amp;soc=-2.05
</pre></div>


<p>And a sample&nbsp;image:</p>
<p><img alt="image" src="https://www.politicalcompass.org/charts/crowdchart?alpha=-3.38%2C-5.38&amp;beta=-2.75%2C-4.62&amp;gamma=-4.63%2C-4.15&amp;delta=-4.75%2C-4.97&amp;epsilon=-9.0%2C-8.31&amp;zeta=-7.38%2C-4.36&amp;eta=-3.5%2C-3.6&amp;theta=-4.38%2C-2.92&amp;iota=-7.13%2C-6.0&amp;kappa=1.63%2C-2.36&amp;lambda=-5.75%2C-6.51&amp;mu=-3.25%2C-3.64&amp;nu=1.75%2C-2.15&amp;xi=-3.75%2C-5.08&amp;name=omicron&amp;ec=-4.88&amp;soc=-2.05"></p>
<p>(Not surprising, considering that I go to the University of Texas). It would be nice to get a <span class="caps">JSON</span> encoding of this information so we might be able to integrate it into dataviz tools for&nbsp;practice.</p>
<h2>Problem</h2>
<p>Given an <span class="caps">URL</span>, such&nbsp;as:</p>
<div class="highlight"><pre><span></span>https://www.politicalcompass.org/charts/crowdchart?alpha=-3.38%2C-5.38&amp;beta=-2.75%2C-4.62&amp;gamma=-4.63%2C-4.15&amp;name=omicron&amp;ec=-4.88&amp;soc=-2.05
</pre></div>


<p>write a function to deserialize it into a <span class="caps">JSON</span>-like encoding, such&nbsp;as:</p>
<div class="highlight"><pre><span></span>[
    {
        &quot;alpha&quot;: {
            &quot;economic&quot;: &quot;-3.38&quot;,
            &quot;social&quot;: &quot;-5.38&quot;
        }
    },
    {
        &quot;beta&quot;: {
            &quot;economic&quot;: &quot;-2.75&quot;,
            &quot;social&quot;: &quot;-4.62&quot;
        }
    },
    {
        &quot;gamma&quot;: {
            &quot;economic&quot;: &quot;-4.63&quot;,
            &quot;social&quot;: &quot;-4.15&quot;
        }
    },
    {
        &quot;omicron&quot;: {
            &quot;economic&quot;: &quot;-4.88&quot;,
            &quot;social&quot;: &quot;-2.05&quot;
        }
    }
]
</pre></div>


<p>using as few lines as&nbsp;possible.</p>
<h2>Decomposition</h2>
<p>We are mainly interested in the names of people and their econo-/socio- political preference scores, which are delimited by various characters. In a string <code>s = 'https://www.politicalcompass.org/charts/crowdchart?alpha=-3.38%2C-5.38&amp;beta=-2.75%2C-4.62&amp;gamma=-4.63%2C-4.15&amp;name=omicron&amp;ec=-4.88&amp;soc=-2.05'</code>, we can split it by <code>?</code> to return a list&nbsp;object:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;https://www.politicalcompass.org/charts/crowdchart?alpha=-3.38%2C-5.38&amp;beta=-2.75%2C-4.62&amp;gamma=-4.63%2C-4.15&amp;name=omicron&amp;ec=-4.88&amp;soc=-2.05&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
<span class="p">[</span><span class="s1">&#39;https://www.politicalcompass.org/charts/crowdchart&#39;</span><span class="p">,</span>
 <span class="s1">&#39;alpha=-3.38%2C-5.38&amp;beta=-2.75%2C-4.62&amp;gamma=-4.63%2C-4.15&amp;name=omicron&amp;ec=-4.88&amp;soc=-2.05&#39;</span><span class="p">]</span>
</pre></div>


<p>Now we can get the string we&#8217;re interested in using the expression <code>s.split('?')[1]</code>. In length-constrained coding, we want to minimize the number of new variable assignments, and this language&#8217;s <span class="caps">AST</span> lets us do this. Since <code>s.split('?')[1]</code> returns our string of interest, we can call <code>.split('&amp;')</code> on that expression to obtain a list of&nbsp;strings:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
<span class="p">[</span><span class="s1">&#39;alpha=-3.38%2C-5.38&#39;</span><span class="p">,</span>
 <span class="s1">&#39;beta=-2.75%2C-4.62&#39;</span><span class="p">,</span>
 <span class="s1">&#39;gamma=-4.63%2C-4.15&#39;</span><span class="p">,</span>
 <span class="s1">&#39;name=omicron&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ec=-4.88&#39;</span><span class="p">,</span>
 <span class="s1">&#39;soc=-2.05&#39;</span><span class="p">]</span>
</pre></div>


<p>We are getting closer to the form we would like, but there is some cleaning up to do with special cases at the end. As soon as a person (let&#8217;s say their name is <code>omicron</code>) adds their own name and scores to the list, the new <span class="caps">HTTP</span> <span class="caps">GET</span> parameters remain encoded in the <span class="caps">URL</span> (after the third-to-the-last <code>&amp;</code>). (The endpoint handler can handle URLs without the last three <span class="caps">GET</span> parameters, but we don&#8217;t want the client to have to conform their parameters to the previous parameters by hand). Let&#8217;s make an expression to select the last 3 elements in the list to transform it into one element that conforms to the rest of the&nbsp;list:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;name=omicron&#39;</span><span class="p">,</span> <span class="s1">&#39;ec=-4.88&#39;</span><span class="p">,</span> <span class="s1">&#39;soc=-2.05&#39;</span><span class="p">]</span>
</pre></div>


<p>But we&#8217;re still only interested in the string parts after the <code>=</code>, and want to make a sequence of those to combine later. If we only focus on one string <code>name=omicron</code>, we can see that we want to call <code>split('=')</code> and grab only second element of its return, i.e., <code>'name=omicron'.split('=')[1]</code>. But what if we wanted to apply this function to a list of&nbsp;strings?</p>
<p><strong>Enter the lambda syntax.</strong> With <code>lambda</code>, we can convert a function into a&nbsp;one-liner.</p>
<div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>


<p>We can even assign it to a variable and call it like&nbsp;this:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">my_lambda</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">my_lambda</span><span class="p">(</span><span class="s1">&#39;foo=bar&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="s1">&#39;bar&#39;</span>
</pre></div>


<p>Also note that it looks like a mathematical function, such as f(x). But like I said earlier, we&#8217;ll keep assigning expressions to variables to the minimum. It&#8217;s important to understand that the lambda definition always contains an expression (after the <code>:</code>) that is returned upon&nbsp;evaluation.</p>
<p>So back to the last question - how do we apply this function to a list of strings that have <code>=</code> in&nbsp;them?</p>
<p><strong>Enter the map syntax.</strong> <code>map(func, seq)</code> applies function <code>func</code> to every element in sequence <code>seq</code>, and it always returns a sequence (such as a <code>list</code> or <code>tuple</code>) such that each element is the return of the function applied to that element. It&#8217;s probably easier to show&nbsp;you:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="nb">map</span><span class="p">(</span><span class="n">my_lambda</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo=bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz=qux&#39;</span><span class="p">,</span> <span class="s1">&#39;ham=spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs=bacon&#39;</span><span class="p">])</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;qux&#39;</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;bacon&#39;</span><span class="p">]</span>
</pre></div>


<p>Let&#8217;s use <code>map</code> and <code>lambda</code> to compose a list of the strings we were interested in, building on the list expression we composed earlier in <code>[4]</code>:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;omicron&#39;</span><span class="p">,</span> <span class="s1">&#39;-4.88&#39;</span><span class="p">,</span> <span class="s1">&#39;-2.05&#39;</span><span class="p">]</span>
</pre></div>


<p>Now use this list as arguments and the string <code>'{}={}%2C{}'</code> as the caller to the function <code>str.format(*args)</code> to get a string that conforms to the other strings (e.g., <code>alpha=-3.38%2C-5.38</code>) in the original&nbsp;list:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="s1">&#39;{}={}%2C{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]))</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="s1">&#39;omicron=-4.88%2C-2.05&#39;</span>
</pre></div>


<p>(<code>*</code> is the &#8220;splat&#8221; operator, which converts a Python list into positional arguments in a function&nbsp;call.)</p>
<p>Before we append this string to the original list, let&#8217;s get all but the last 3 elements from the original list in <code>[3]</code>:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;alpha=-3.38%2C-5.38&#39;</span><span class="p">,</span> <span class="s1">&#39;beta=-2.75%2C-4.62&#39;</span><span class="p">,</span> <span class="s1">&#39;gamma=-4.63%2C-4.15&#39;</span><span class="p">]</span>
</pre></div>


<p>We can wrap the expression from <code>[9]</code> that returns the new string in brackets to convert it into a single-item list, and append it to the original list using the <code>+</code> operator:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">11</span><span class="p">]:</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;{}={}%2C{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]))]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">11</span><span class="p">]:</span>
<span class="p">[</span><span class="s1">&#39;alpha=-3.38%2C-5.38&#39;</span><span class="p">,</span>
 <span class="s1">&#39;beta=-2.75%2C-4.62&#39;</span><span class="p">,</span>
 <span class="s1">&#39;gamma=-4.63%2C-4.15&#39;</span><span class="p">,</span>
 <span class="s1">&#39;omicron=-4.88%2C-2.05&#39;</span><span class="p">]</span>
</pre></div>


<p>We need to break up each string by <code>=</code> and <code>%2C</code> now. Hello, <code>map</code> and <code>lambda</code> again:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;%2C&#39;</span><span class="p">),</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;{}={}%2C{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]))])</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">12</span><span class="p">]:</span>
<span class="p">[[</span><span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="s1">&#39;-3.38&#39;</span><span class="p">,</span> <span class="s1">&#39;-5.38&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span> <span class="s1">&#39;-2.75&#39;</span><span class="p">,</span> <span class="s1">&#39;-4.62&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;gamma&#39;</span><span class="p">,</span> <span class="s1">&#39;-4.63&#39;</span><span class="p">,</span> <span class="s1">&#39;-4.15&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;omicron&#39;</span><span class="p">,</span> <span class="s1">&#39;-4.88&#39;</span><span class="p">,</span> <span class="s1">&#39;-2.05&#39;</span><span class="p">]]</span>
</pre></div>


<p>And the final <code>map</code>/<code>lambda</code> combo:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">13</span><span class="p">]:</span> <span class="n">convert_to_dictlist</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">{</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;economic&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;social&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]}},</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;%2C&#39;</span><span class="p">),</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;{}={}%2C{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]))]))</span>
</pre></div>


<p>Let&#8217;s try&nbsp;it:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">14</span><span class="p">]:</span> <span class="n">convert_to_dictlist</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">14</span><span class="p">]:</span>
<span class="p">[{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;economic&#39;</span><span class="p">:</span> <span class="s1">&#39;-3.38&#39;</span><span class="p">,</span> <span class="s1">&#39;social&#39;</span><span class="p">:</span> <span class="s1">&#39;-5.38&#39;</span><span class="p">}},</span>
 <span class="p">{</span><span class="s1">&#39;beta&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;economic&#39;</span><span class="p">:</span> <span class="s1">&#39;-2.75&#39;</span><span class="p">,</span> <span class="s1">&#39;social&#39;</span><span class="p">:</span> <span class="s1">&#39;-4.62&#39;</span><span class="p">}},</span>
 <span class="p">{</span><span class="s1">&#39;gamma&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;economic&#39;</span><span class="p">:</span> <span class="s1">&#39;-4.63&#39;</span><span class="p">,</span> <span class="s1">&#39;social&#39;</span><span class="p">:</span> <span class="s1">&#39;-4.15&#39;</span><span class="p">}},</span>
 <span class="p">{</span><span class="s1">&#39;omicron&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;economic&#39;</span><span class="p">:</span> <span class="s1">&#39;-4.88&#39;</span><span class="p">,</span> <span class="s1">&#39;social&#39;</span><span class="p">:</span> <span class="s1">&#39;-2.05&#39;</span><span class="p">}}]</span>
</pre></div>


<p>It worked, and we defined the function in one&nbsp;line.</p>
<p>We can use <code>print json.dumps()</code> to print it out in a nicer looking&nbsp;format.</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">15</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">json</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="k">print</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">convert_to_dictlist</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;economic&quot;</span><span class="p">:</span> <span class="s2">&quot;-3.38&quot;</span><span class="p">,</span>
            <span class="s2">&quot;social&quot;</span><span class="p">:</span> <span class="s2">&quot;-5.38&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;beta&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;economic&quot;</span><span class="p">:</span> <span class="s2">&quot;-2.75&quot;</span><span class="p">,</span>
            <span class="s2">&quot;social&quot;</span><span class="p">:</span> <span class="s2">&quot;-4.62&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;economic&quot;</span><span class="p">:</span> <span class="s2">&quot;-4.63&quot;</span><span class="p">,</span>
            <span class="s2">&quot;social&quot;</span><span class="p">:</span> <span class="s2">&quot;-4.15&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;omicron&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;economic&quot;</span><span class="p">:</span> <span class="s2">&quot;-4.88&quot;</span><span class="p">,</span>
            <span class="s2">&quot;social&quot;</span><span class="p">:</span> <span class="s2">&quot;-2.05&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>


<p>Nice!!</p>
<h2>The&nbsp;answer</h2>
<p><strong>Disclaimer</strong></p>
<p>I didn&#8217;t get this one-liner immediately off the top of my head and on the first try. I use a fantastic <span class="caps">REPL</span>/interactive shell called <a href="https://ipython.org/">IPython</a> (where the <code>In</code>/<code>Out</code> lines come from) that makes it easy to quickly iterate (no pun intended) on composing Python code. There, I decomposed the problem, made dozens of intermediate variable assignments to heavily abstract, and then substituted the variables with the original statements and expressions they were assigned&nbsp;to.</p>
<p><strong>The&nbsp;one-liner</strong></p>
<div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">{</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;economic&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;social&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]}},</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;%2C&#39;</span><span class="p">),</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;{}={}%2C{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]))]))</span>
</pre></div>


<p><strong>Expanded for&nbsp;&#8220;clarity&#8221;</strong></p>
<div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span>
  <span class="nb">map</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span>
      <span class="p">{</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="p">{</span> <span class="s1">&#39;economic&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;social&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">}</span> <span class="p">}</span>
      <span class="nb">map</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span>
          <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;%2C&#39;</span><span class="p">),</span>
            <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;{}={}%2C{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span>
            <span class="nb">map</span><span class="p">(</span>
              <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span>
              <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
            <span class="p">)</span>
            <span class="p">)</span>
          <span class="p">]</span>
      <span class="p">)</span>
  <span class="p">}</span>
</pre></div>


<h2>Resources</h2>
<p>Some links about <code>map</code> and <code>lambda</code> (kinda Python specific) since my explanation didn&#8217;t do it&nbsp;justice:</p>
<p>A pretty approachable introduction to lambda expressions in Python that demonstrates their usefulness in production code, scoping rules, and addresses common points of confusion: <a href="https://pythonconquerstheuniverse.wordpress.com/2011/08/29/lambda_tutorial/">Yet Another Lambda&nbsp;Tutorial</a></p>
<p>Quora: <a href="https://www.quora.com/Is-it-better-to-use-list-comprehensions-or-map-with-a-lambda-function-when-manipulating-elements-in-a-list">Is it better to use list comprehensions or map with a lambda function when manipulating elements in a&nbsp;list?</a></p>
<p><em>Does your favorite programming language have syntax for map, filter, reduce, and/or lambda&nbsp;expressions?</em></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/optimizing-your-iteration-speed.html" rel="bookmark" title="Permalink to Optimizing your iteration speed">Optimizing your iteration&nbsp;speed</a>
    </h1>
    <span class="post-date">July 10, 2016</span>

    <p>One Quora answer that&#8217;s really stuck with me for the past few months is <a href="https://www.quora.com/What-are-the-things-required-to-become-a-hardcore-programmer/answer/Edmond-Lau">Edmond Lau&#8217;s answer</a> to &#8220;What are the things required to become a hardcore programmer?&#8221; The entire answer is solid, but this is the part I will focus&nbsp;on:</p>
<blockquote>
<p><strong>4. Optimize your iteration&nbsp;speed.</strong></p>
<p>Say it takes you 12 seconds to search and navigate from a function call to where it’s defined. And suppose you have to do similar navigations 60 times per day. That’s 12 minutes per day spent navigating files. If you learn enough keyboard shortcuts in your text editor to navigate to a file in 2 seconds instead of 12, then over the course of a day, you&#8217;d save 10 minutes. Every year, you’d save an entire 40-hour work&nbsp;week.</p>
<p>Find 3 more similar optimizations, and you’d save a month. Imagine what you could do with an extra month per&nbsp;year.</p>
<p>Or suppose that you’re fixing a bug that requires you to start the app and then navigate through five screens to set up the right conditions to trigger the bug. Could you spend 10 minutes to wire it up so that it goes to the buggy screen on startup? You’d be able to iterate significantly faster on that bug with a small initial&nbsp;investment.</p>
<p>Systematically ask yourself, “How can I iterate faster?” The payoffs will be&nbsp;enormous.</p>
</blockquote>
<p>One of the payoffs, not explicitly mentioned, is that decreasing your iteration time will lower your chances of emptying your mental &#8220;cache&#8221; or &#8220;stack&#8221; of things to do, i.e., getting distracted, while you&#8217;re spending time on minor, unnecessary context&nbsp;switches.</p>
<p>I&#8217;m a student currently at my second software internship. As someone who&#8217;s been developing stuff for just a little under two years, I&#8217;m not the fastest, but I&#8217;ve still managed to accumulate a list of small, medium, and large techniques that speed up my development. I feel like adopting <em>every</em> technique possible (like learning how to use the Dvorak keyboard, for me) would be impractical, so these are the ones that keep me fast but sane. It also goes without saying that different tricks will work for different people, so I hope my tips are general enough for most budding&nbsp;developers.</p>
<p>(<em>By the way, most of these work best if you work in a Unix environment. Most of my work these days is done on <span class="caps">OS</span> X and when I&#8217;m ssh&#8217;d into Linux boxes.</em>)
<br>
<br></p>
<h2>Small&nbsp;things</h2>
<p><strong>Select all/copy/paste</strong>&nbsp;(well-known)</p>
<p><code>[Cmd-a]</code>/<code>[Cmd-c]</code>/<code>[Cmd-v]</code></p>
<p><strong>Quickly navigate and select&nbsp;text</strong></p>
<p>Using keyboard shortcuts such as <code>[Cmd-Left/Right]+[Shift-Cmd-Right/Left]</code> to highlight a line. Experiment with&nbsp;these!</p>
<p><strong>Get to the beginning of a line in the&nbsp;shell</strong></p>
<p><code>[Ctrl-a]</code></p>
<p><strong>New tab/Close tab in most programs that have&nbsp;tabs</strong></p>
<p><code>[Cmd-t]</code>/<code>[Cmd-w]</code></p>
<p><strong>Issue the last command in <code>sudo</code> mode</strong></p>
<p><code>sudo !!</code></p>
<p>At first, I thought it was a funny alias my mentor made, as in, &#8220;sudo, darn it!&#8221;. But <code>!!</code> (read: &#8220;<a href="http://ss64.com/bash/bang.html">bang-bang</a>&#8220;) is a great thing to&nbsp;know!!</p>
<p><strong>Launch Sublime Text from the command&nbsp;line</strong></p>
<p>If I&#8217;m not using <a href="http://www.vim.org/download.php">Vim</a> or <a href="http://macdown.uranusjr.com/">MacDown</a>, I open up Sublime like&nbsp;so:</p>
<p><code>subl README.md</code></p>
<p>You can either add an alias to the Sublime app in your shell profile or add a symlink to it in one of the <code>/bin</code> folders of your <code>PATH</code>.</p>
<p><em>More: <a href="http://stackoverflow.com/questions/16199581/opening-sublime-text-on-command-line-as-subl-on-mac-os">Stack Overflow&nbsp;link</a></em></p>
<p><strong>Take advantage of Spotlight (or <a href="https://www.alfredapp.com/">Alfred</a>)</strong></p>
<p>It takes me less than a second to launch the most-used applications on my desktop. To do that, all I have to do is type <code>[Cmd-Space]</code> anywhere and the first few letters, if not just the first letter, of the application.
<br>
<br></p>
<h2>Medium&nbsp;things</h2>
<p><strong>Use&nbsp;oh-my-zsh</strong></p>
<p><a href="https://github.com/robbyrussell/oh-my-zsh">Oh My Zsh</a> is an easy-to-install framework for installing and managing <code>zsh</code>, an alternative shell to <code>bash</code>. The most useful feature for me is its fast autocompletion and ability to simply tab through autocompletion results. It also makes your shell look fancy&nbsp;:)</p>
<p><em>More: <a href="https://www.quora.com/What-is-the-difference-between-bash-and-zsh">Difference between bash and&nbsp;zsh</a></em></p>
<p><strong>Use a good <code>.vimrc</code> if you use&nbsp;Vim</strong></p>
<p>I&#8217;m pretty lazy and use the one by &#8220;amix&#8221; out of the box. If I cared more to study Vimscript, I could roll my own and be an <code>3l33t h4x0r</code>, but this will&nbsp;do.</p>
<p><em>More: <a href="https://github.com/amix/vimrc">The ultimate&nbsp;vimrc</a></em></p>
<p><strong>Add stuff to your <code>.bash_profile</code>/<code>.bashrc</code>/<code>.zshrc</code></strong></p>
<div class="highlight"><pre><span></span><span class="nb">alias</span> <span class="nv">workonproj</span><span class="o">=</span><span class="s2">&quot;ssh -t rainier.ababao@xyz.example.com &#39;cd ~/project_directory; bash&#39;&quot;</span>
</pre></div>


<p>It&#8217;s quite nice to open up the shell and type in a short alias to ssh into a&nbsp;server.</p>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">GITPAT</span><span class="o">=</span><span class="s2">&quot;xyz&quot;</span>
</pre></div>


<p>If I have GitHub two-factor auth enabled, I&#8217;m required to use a &#8220;personal access token&#8221; to authenticate pushes if I cloned by <span class="caps">HTTPS</span> instead of <span class="caps">SSH</span>. In that case, I can just <code>echo $GITPAT</code> since it&#8217;s an environment variable in my private shell profile, and copy-paste it whenever I have to authenticate. However, I stopped doing this when I learned about triggers for my&nbsp;terminal&#8230;</p>
<p><em>More: <a href="http://linuxcommand.org/lc3_learning_the_shell.php">Learning the&nbsp;Shell</a></em></p>
<p><strong>Take advantage of&nbsp;iTerm2</strong></p>
<p>For command line work, I use iTerm2 instead of Terminal. There are a lot of great things about it, and one of them is triggers. A trigger is a regex that iTerm2 listens for, followed by an action, like automatically entering text as if the user had typed it in themselves. I have a trigger set up so that when <code>\[sudo\] password for rainier.ababao</code> appears, the password manager opens and I just press <code>[Enter]</code> for iTerm2 to put in my&nbsp;password.</p>
<p><em>More: <a href="https://www.iterm2.com/documentation-triggers.html">iTerm2 triggers</a></em>
<br>
<br></p>
<h2>Large&nbsp;things</h2>
<p><strong>Improve your words per minute (<span class="caps">WPM</span>)</strong></p>
<p>Learn to keep your fingers on the home row and touch-type! It will be slow at first, but you&#8217;ll see gains from 40 <span class="caps">WPM</span> to 100-120 <span class="caps">WPM</span> within a few months if you practice <em>every day</em>. That&#8217;s at least <em>doubling</em> one&#8217;s typing&nbsp;speed!</p>
<p>(<em>Edit</em>: This isn&#8217;t to suggest that efficient coding has much to do with how fast you can type, but rather that this reduces the repetitive task of looking for unnaturally-placed characters on the&nbsp;keyboard.)</p>
<p><em>Some fun: <a href="http://play.typeracer.com/">play.typeracer.com</a></em></p>
<p><strong>Master a text&nbsp;editor</strong></p>
<p>I started forcing myself to use Vim last year and have since gotten faster editing with it than with any other text editor. Vim comes installed with <code>vimtutor</code>, a classic interactive tutorial for the&nbsp;editor.</p>
<p>The common thread in a lot of these micro-optimizations is keeping your fingers on the keyboard and away from the mouse.
<br>
<br>
<em>What are your favorite optimizations? Feel free to <span class="caps">DM</span> or tweet <a href="https://twitter.com/rainieratx">@rainieratx</a> with corrections and&nbsp;suggestions.</em></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/latex-in-a-makefile.html" rel="bookmark" title="Permalink to LaTeX in a Makefile">LaTeX in a&nbsp;Makefile</a>
    </h1>
    <span class="post-date">March 12, 2016</span>

    <p>In my parallel computing class this semester, we have to write reports with timing results and some analysis using LaTeX. Since we already cook up Makefiles to compile our <span class="caps">MPI</span> C programs, why don&#8217;t we construct our reports the same way&nbsp;too?</p>
<p>Here is a Makefile I wrote to compile my programs and construct the <span class="caps">PDF</span> for my&nbsp;report:</p>
<div class="highlight"><pre><span></span><span class="nv">LATEXTMP</span><span class="o">=</span>*.aux *.log *.toc
<span class="nv">EXECS</span><span class="o">=</span>ex6 ex7
<span class="nv">MPICC</span><span class="o">?=</span>mpicc
<span class="nv">LATEXCMP</span><span class="o">=</span>pdflatex

<span class="nf">all</span><span class="o">:</span> ${<span class="n">EXECS</span>}

<span class="nf">ex6</span><span class="o">:</span> <span class="n">ex</span>6.<span class="n">c</span>
    <span class="si">${</span><span class="nv">MPICC</span><span class="si">}</span> -o ex6 ex6.c

<span class="nf">ex7</span><span class="o">:</span> <span class="n">ex</span>7.<span class="n">c</span>
    <span class="si">${</span><span class="nv">MPICC</span><span class="si">}</span> -o ex7 ex7.c

<span class="nf">report</span><span class="o">:</span> <span class="n">report</span>.<span class="n">tex</span>
    <span class="si">${</span><span class="nv">LATEXCMP</span><span class="si">}</span> report.tex

<span class="nf">clean</span><span class="o">:</span>
    rm <span class="si">${</span><span class="nv">EXECS</span><span class="si">}</span> <span class="si">${</span><span class="nv">LATEXTMP</span><span class="si">}</span>
</pre></div>


<p>If you are familiar with Make, this set of rules should be fairly straightforward to follow. I also find this useful for getting rid of the temporary files that pdflatex generates, without say, fat-fingering a regex upon <code>rm</code>.</p>
<p>If this is new to you, the <a href="https://www.gnu.org/software/make/manual/make.html#Introduction"><span class="caps">GNU</span> Make Manual</a> is a well-written tutorial to&nbsp;start.</p>
<p>Make Make great again!&nbsp;😛</p>
<p><em>What kind of automation tools do you use for tasks that aren&#8217;t typically&nbsp;automated?</em></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/learning-how-to-speak.html" rel="bookmark" title="Permalink to Learning how to speak">Learning how to&nbsp;speak</a>
    </h1>
    <span class="post-date">January 01, 2016</span>

    <p>I didn&#8217;t really talk before I was 4 years old. In fact, I learned how to read before I could converse with others. According to my parents, a doctor said that I would have to attend a special school for not knowing how to speak&nbsp;properly.</p>
<p>Some kind of speech impediment carried on through the beginning of high school. I stuttered whenever I was in social situations, even the most casual ones, and still do occasionally. The following is a list of things that have particularly helped me overcome&nbsp;stuttering.</p>
<p><strong>Joining the debate team</strong>. I wanted to <em>decimate</em> my stuttering. The first time I walked into the debate classroom, I watched our school&#8217;s two senior A-debaters <em>spread</em>, or &#8220;speed read&#8221;, about nuclear weapon possession policies at over 300 <span class="caps">WPM</span>.</p>
<p><em>(Aside: The reason why debaters talk really fast is because their speeches are time-constrained, and they need to develop arguments as efficiently as possible. This is the nearly </em>pure-logos<em> model of debate that is present in many competitive debate circuits. Some people think it is bad, and others think it is good. I would argue that it is good because it fosters critical thinking skills (the human brain can process up to 800 <span class="caps">WPM</span>, <span class="caps">BTW</span>), creates time for arguments to be developed more thoroughly, and even if there were a good reason for it being bad, the best debaters still have to &#8220;adapt&#8221; their style to the many &#8220;lay&#8221; judges who prefer more pathos and slower talking&nbsp;anyway.)</em></p>
<p>I thought debate was cool. It was a domain outside of the sciences that I wasn&#8217;t good at yet (I was terrible for a while), and it was very competitive. The camaraderie and trophies were thrilling, and I got to be out of town nearly every weekend. <strong>I ended up qualifying for debate nationals in 12th grade and <a href="https://youtu.be/jawI1nBR_9E?t=6m57s" target="_blank">teaching high schoolers</a> how to debate</strong> at <span class="caps">UT</span> Austin&#8217;s camp that summer, so it was an early resume-padder&nbsp;too.</p>
<p>Due to the research that debate evidence required, I picked up a lot of random domain knowledge in politics, philosophy and argumentation. Most importantly though, it helped me to be a more logical and persuasive communicator, a trait that has become indispensible in my career. <strong>From speaking to recruiters to career fair, talking my way through techincal interviews with engineers, to making friends in college</strong>, I would have a significantly different experience if it weren&#8217;t for speech and&nbsp;debate.</p>
<p><strong>Playing games</strong>. My friends introduced the game of <a href="https://en.wikipedia.org/wiki/Taboo_(game)" target="_blank">Taboo</a> to me in 12th grade, and I was hooked. Players have their partners guess the word on the player&#8217;s card without using the word itself or five additional words listed on the card. I liked it a lot because it forced me to describe ideas with both time and strict word constraints. I also started playing <a href="https://en.wikipedia.org/wiki/Catch_Phrase_(game)" target="_blank">Catch Phrase</a> last summer, which has similar rules with more lax constraints. I have had a lot of fun with this game in particular, so much that I&#8217;ve been itching to code it up or discuss various tactics in&nbsp;depth.</p>
<p>Finally, I came up with this sort of ironic game while my girlfriend and I were out for dinner. While waiting for her, I went to the first link when  Googling &#8220;funny long jokes&#8221;. This &#8220;game&#8221; involves looking up a funny long joke (typically a story), summarizing it in your head, recalling its details without referencing the text, and delivering it (even embellishing it) in a way that people will &#8220;get&#8221;. It&#8217;s fantastic because it&#8217;s fun socializing practice (however shallow it is 😛), and it also builds up your short-term&nbsp;memory.  </p>
<p><em>Can you think of other ways to improve&nbsp;speech?</em></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/rainiers-2015-in-review.html" rel="bookmark" title="Permalink to Rainier’s 2015 in Review">Rainier&#8217;s 2015 in&nbsp;Review</a>
    </h1>
    <span class="post-date">January 01, 2016</span>

    <p>In 2015&nbsp;I&#8230;</p>
<p><strong><span class="dquo">&#8220;</span>Figured out&#8221; the kind of people I want to spend time with.</strong> It&#8217;s a well-known adage that &#8220;you are the average of the top five people you spend time with&#8221;. Ignoring cases like, raising four babies or something, there is definitely some truth to this in college. In Fall 2014, I joined two student orgs. In one of them, I quickly figured out that the majority were mainly preoccupied with gossip and padding their resumes, so I did not re-apply to be a member the next semester. The other was <a href="http://texaslan.org" target="_blank">Lambda Alpha Nu</a>, a brand-new co-ed tech-interest fraternity. I was in the very first &#8220;Alpha Class&#8221; following its&nbsp;establishment.</p>
<p>The organization has left a huge impact on my career aspirations. With the founders (now alumni) working at high-impact tech companies and beginning startups, I feel like a career dedicated to computer science is my opportunity to optimize the balance between largest net positive impact on the world and my own personal enjoyment of the field during my relatively short time here on&nbsp;Earth.</p>
<p><strong>Got lucky and had a lot of interviews.</strong> From the entire year, I completed 31 interviews and 4 coding challenges. Over two-dozen of them were during September and October&nbsp;2015.</p>
<p>Truth be told, it was a less-than-optimal strategy! But I knew that I wouldn&#8217;t practice or gain confidence unless I actually interviewed with companies, no matter how much I actually wanted to work for&nbsp;them.</p>
<p><strong>Went to the Bay Area three times and the Northeast once.</strong> I had the privilege of traveling out of state several times in 2015. I flew out for 2 interviews and 2&nbsp;hackathons.</p>
<p>In late March I went to <a href="http://officesnapshots.com/2015/08/17/weebly-san-francisco-offices/" target="_blank">Weebly</a>&#8216;s beautiful office in San Francisco for an on-site trial for their software engineering internship. Considering I had never made a web app backend before 🙃, this was a <em>huge</em> learning experience. Needless to say, I wasn&#8217;t extended an offer, but it was an experience that <em>really</em> inspired me to try to get an internship in the Bay&nbsp;Area.  </p>
<p>As an early 20th birthday present from my parents, I visited the <a href="https://6sense.com/" target="_blank">6Sense</a>) <span class="caps">HQ</span> in the heart of <a href="https://www.google.com/maps/d/u/0/viewer?mid=z0K33fLxahaU.kMBt4r4w_lUI&hl=en" target="_blank">SoMa</a> to attend their first data science-oriented hackathon! I had a lovely experience and it was the first hackathon where I won a prize. They even got me <a href="https://www.instagram.com/p/6tudxgJgxx/" target="_blank">cake</a> for my&nbsp;birthday.</p>
<p>In November, I went to the <a href="https://clover.com" target="_blank">Clover</a> <span class="caps">HQ</span> in Sunnyvale for the 1st Annual Clover Network Invitational! From Thursday through Saturday&nbsp;we:  </p>
<ul>
<li>Had two practice interviews with immediate feedback followed by the real interview on the last&nbsp;day.  </li>
<li>Had a resume-building workshop where I was fortunate enough to be reviewed by their head of&nbsp;product!  </li>
<li>Hacked with a few other students and one of the Clover engineers, a <span class="caps">UTCS</span>&nbsp;alum!  </li>
<li>Gorged on catered lunches and dinners, followed by adventures in <span class="caps">SF</span> and more&nbsp;food.  </li>
</ul>
<p>The week after Clover, I went to a small school in Princeton, <span class="caps">NJ</span> to participate in HackPrinceton. It helped reinforce my belief that if the endgame is working at $COOL_TECH_COMPANY, starting a successful startup, or building an awesome network, you don&#8217;t <em>have</em> to be at an Ivy, I was in a good place all along! But even more importantly, I realized how important resources and a network is to young engineers, better understood how <em>privileged</em> I am without patting myself on the back, but also how good it feels to be a&nbsp;mentor.</p>
<p><strong>Went to a lot of hackathons.</strong> Nine, to be exact. A large reason of why I went to a lot of hackathons earlier this year is because I felt somewhat behind. I started learning how to code in September 2014 when I began my computer science major, and when I joined Lambda Alpha Nu, I felt behind as a lot of my new friends were landing all these glamorous internships. Understandably, they had been coding much longer than I have, and because of how time works, will always have been coding longer than I have, as long as all of us are alive. But after this interview season and coding nearly every day of my life this year, I feel confident enough to try to be a mentor more&nbsp;often.</p>
<ul>
<li><strong>HackDFW 2015</strong> - worked on MakeRoute, a <span class="caps">PHP</span>/MySQL web app that determines nice restaurants on the route between two&nbsp;places.</li>
<li><strong><span class="caps">SXSW</span> Music Hackathon</strong> - worked on an Android app that filters an Rdio <span class="caps">API</span> playlist based on your heart rate determined by the Microsoft&nbsp;Band.</li>
<li><strong><span class="caps">ATX</span> Hack4Change Civic Hackathon</strong> - worked on an Android backend with Parse and game logic for a collection of nutrition-oriented games aimed at toddlers, called Monstralia by the HealthStart&nbsp;Foundation.</li>
<li><strong>athenahealth <span class="caps">MDP</span> Hackathon</strong> - worked on HealthCruncher, a Python/Flask web <span class="caps">API</span> that calculates heart disease and diabetes predisposition probability with a basic machine learning&nbsp;model.</li>
<li><strong>6Sense DataHack</strong> - built text-graph/&#8221;Fran&#8221;, a library for parsing text backup files and generating a weighted graph based on people they mentioned in&nbsp;texts.</li>
<li><strong>HackTX 2015</strong> - I played around with the Yelp dataset and learned how to use RethinkDB, a key-value store that is probably better than&nbsp;MongoDB.</li>
<li><strong>Clover Network Invitational</strong> - See&nbsp;above.</li>
<li><strong>HackPrinceton 2015</strong> - built Feelsbook. I teamed up with two <span class="caps">NYU</span> engineering freshmen named Claryssa and Minah who were hackathon newbies to help them get their feet wet in web development. We built a Python/Flask-based social networking site-like newsfeed that pooled data from the Indico, Clarifai, and Microsoft facial emotion recognition APIs to ask the user just what <em>exactly</em> was on their mind, whether something was wrong, what made them joyful, and so on, and filtered tweets based on their face as&nbsp;well.</li>
</ul>
<p>The hackathon community&#8217;s been so instrumental in my development that I decided to join the leadership team for HackTX, which was my very first hackathon in 2014 (when I had just learned about for-loops). The organizing community of HackTX are all very amazing&nbsp;people.</p>
<p>I had a very productive, mindful, and <em>lucky</em> 2015. In 2016, I want to be humbler, feel more secure about my abilities (which involves improving them), maintain and create honest, impactful relationships with&nbsp;people.</p>
<p><em>How was your 2015, and what are your plans for 2015 +&nbsp;1?</em></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/binary-search-implementation-in-erlang-whats-going-on.html" rel="bookmark" title="Permalink to Binary search implementation in Erlang - what’s going on?">Binary search implementation in Erlang - what&#8217;s going&nbsp;on?</a>
    </h1>
    <span class="post-date">December 27, 2015</span>

    <h2>Let&#8217;s hack on some&nbsp;Erlang</h2>
<p>Erlang was originally built in the late 80s to handle telecom switches. As such, its major features include primitives for concurrency and error recovery, which led to it making its way into applications requiring fault-tolerance, scalability, and maximum availability. I picked it up to learn more about concurrent programming and because it seemed&nbsp;hip.</p>
<p>Plus, here&#8217;s an awkwardly-funny video about one of its original uses in&nbsp;telephony:</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/xrIjfIjssLE" frameborder="0" allowfullscreen></iframe>

<h2>Setup</h2>
<p>If you&#8217;re on <span class="caps">OSX</span> and have <a href="http://brew.sh/" target="_blank">Homebrew</a>, you can install Erlang with <code>brew install Erlang</code>.</p>
<p>Now <code>cd</code> into a directory where you want to keep your file. To make things simpler, you&#8217;ll want to save your program and run the Erlang <span class="caps">REPL</span> from here, too. <code>vim binary_search.erl</code>, and let&#8217;s&nbsp;begin!</p>
<h2>Writing the&nbsp;header</h2>
<div class="highlight"><pre><span></span><span class="p">-</span><span class="ni">module</span><span class="p">(</span><span class="n">binary_search</span><span class="p">).</span>
<span class="p">-</span><span class="ni">export</span><span class="p">([</span><span class="n">binary_search</span><span class="o">/</span><span class="mi">2</span><span class="p">]).</span>
</pre></div>


<p><strong>What&#8217;s going&nbsp;on?</strong></p>
<ul>
<li>A <em>module</em> is just a bunch of functions regrouped into a single file, and has to be the first statement of the&nbsp;file.</li>
<li>We can use the name <code>binary_search</code> to call functions from <em>this</em> module into in other modules, in the form <code>M:F(A)</code>, where <code>M</code> is the module name, <code>F</code> is the function name, and <code>A</code> is the&nbsp;arguments.</li>
<li><code>-export([binary_search/2])</code> defines which functions of the module can be called by the outside world, it describes the public interface of the module. It&#8217;s similar to how encapsulation in <span class="caps">OOP</span> restricts an object&#8217;s externally-usable components through the notions of <code>public</code> and <code>private</code> methods.</li>
<li>The <code>export</code> attribute has the format <code>-export([Function1/Arity, Function2/Arity, ..., FunctionN/Arity])</code>. The <em>arity</em> of a function or operator is the number of arguments or operands it takes. Thusly, <code>binary_search</code> has an arity of&nbsp;2.</li>
</ul>
<h2>Guarding against incorrect&nbsp;types</h2>
<p>The parameters of a binary search should be some comparable target value and a sorted&nbsp;list.</p>
<div class="highlight"><pre><span></span><span class="nf">binary_search</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">List</span><span class="p">)</span>
    <span class="k">when</span>
        <span class="nb">is_number</span><span class="p">(</span><span class="nv">X</span><span class="p">),</span>
        <span class="nb">is_list</span><span class="p">(</span><span class="nv">List</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="n">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p">(</span><span class="nv">List</span><span class="p">)).</span>
</pre></div>


<p><strong>What&#8217;s going&nbsp;on?</strong></p>
<ul>
<li><code>is_number</code> and <code>is_list</code> are built-in functions of Erlang, and they do exactly what you&#8217;d expect. They are part of the <code>erlang</code> module, which is automatically imported whenever you use&nbsp;Erlang.</li>
<li>But every other function will have to be called in the <code>M:F(A)</code> format described in the last section (<code>M</code> - module name, <code>F</code> - function name, <code>A</code> - arguments)<ul>
<li>In fact, this is how you will call every function you use in Erlang besides those in the <code>erlang</code> module.</li>
<li>You know how in Python, you can just <code>from time import sleep</code>, or in C, you <code>#include &lt;stdio.h&gt;</code> to add function names into the current namespace? Well, Erlang has a very flat namespace. This <a href="http://stackoverflow.com/a/4476599/5150563" target="_blank">Stack Overflow link</a> has a good explanation of how it&nbsp;works.</li>
</ul>
</li>
<li><code>when</code> is called a &#8220;guard&#8221; type of clause, and it tells us to perform the action following the <code>-&gt;</code> if all statements between <code>when</code> and <code>it</code> are&nbsp;true.</li>
<li>Every function ends with a period. Whatever is the last expression of a function to be executed will have its value returned to the caller without it being&nbsp;mentioned.</li>
</ul>
<h2>The&nbsp;algorithm</h2>
<p>The classic binary search algorithm. We will implement it&nbsp;recursively.  </p>
<p>So, here&#8217;s how it looks in&nbsp;Erlang:</p>
<div class="highlight"><pre><span></span><span class="nf">bs</span><span class="p">(_,</span> <span class="p">[])</span>   <span class="o">-&gt;</span> <span class="n">false</span><span class="p">;</span>
<span class="nf">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="p">[_])</span>  <span class="o">-&gt;</span> <span class="n">false</span><span class="p">;</span>
<span class="nf">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="p">[</span><span class="nv">X</span><span class="p">])</span>  <span class="o">-&gt;</span> <span class="n">true</span><span class="p">;</span>
<span class="nf">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">List</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="n">ok</span> <span class="o">=</span> <span class="nn">io</span><span class="p">:</span><span class="nf">format</span><span class="p">(</span><span class="s">&quot;bs(</span><span class="si">~p</span><span class="s">, </span><span class="si">~p</span><span class="s">)</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nv">X</span><span class="p">,</span> <span class="nv">List</span><span class="p">]),</span>
    <span class="nv">Length</span> <span class="o">=</span> <span class="nb">length</span><span class="p">(</span><span class="nv">List</span><span class="p">),</span>
    <span class="nv">Middle</span> <span class="o">=</span> <span class="p">(</span><span class="nv">Length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">div</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nv">Value</span> <span class="o">=</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">nth</span><span class="p">(</span><span class="nv">Middle</span><span class="p">,</span> <span class="nv">List</span><span class="p">),</span>
    <span class="k">if</span>
        <span class="nv">X</span> <span class="o">==</span> <span class="nv">Value</span> <span class="o">-&gt;</span> <span class="n">true</span><span class="p">;</span>
        <span class="nv">X</span> <span class="o">&gt;</span> <span class="nv">Value</span> <span class="o">-&gt;</span> <span class="n">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span><span class="nv">List</span><span class="p">,</span> <span class="nv">Middle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">Length</span><span class="p">));</span>
        <span class="nv">X</span> <span class="o">&lt;</span> <span class="nv">Value</span> <span class="o">-&gt;</span> <span class="n">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span><span class="nv">List</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">Middle</span><span class="p">))</span>
    <span class="k">end</span><span class="p">.</span>
</pre></div>


<p><strong>What&#8217;s going&nbsp;on?</strong></p>
<ul>
<li>The <code>_</code> is the &#8220;don&#8217;t care&#8221; variable, which is a common thing to use in many languages (for instance, whenever you&#8217;re iterating and not using the counter, e.g. <code>for _ in range(0, 10)</code>). This also happens to silence a &#8220;unused variable&#8221; warning made by the Erlang compiler.<ul>
<li>We see these in use for two of the base cases, and their placement makes sense if you think about it. Binary search of an empty list, list containing useless information, or target variable containing useless information should never be&nbsp;true.</li>
</ul>
</li>
<li>We see use of <em>pattern-matching</em>. Instead&nbsp;of</li>
</ul>
<div class="highlight"><pre><span></span><span class="nf">function</span><span class="p">(</span><span class="nv">Args</span><span class="p">)</span>
   <span class="k">if</span> <span class="nv">X</span> <span class="n">then</span>
      <span class="nv">Expression</span>
   <span class="n">else</span> <span class="k">if</span> <span class="nv">Y</span> <span class="n">then</span>
      <span class="nv">Expression</span>
   <span class="n">else</span>
      <span class="nv">Expression</span>
</pre></div>


<p>We&nbsp;write:</p>
<div class="highlight"><pre><span></span><span class="nf">function</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span>
  <span class="nv">Expression</span><span class="p">;</span>
<span class="nf">function</span><span class="p">(</span><span class="nv">Y</span><span class="p">)</span> <span class="o">-&gt;</span>
  <span class="nv">Expression</span><span class="p">;</span>
<span class="nf">function</span><span class="p">(_)</span> <span class="o">-&gt;</span>
  <span class="nv">Expression</span><span class="p">.</span>
</pre></div>


<h2>The final&nbsp;code</h2>
<p>Your file, <code>binary_search.erl</code>, should look something like this at the&nbsp;end:</p>
<div class="highlight"><pre><span></span><span class="p">-</span><span class="ni">module</span><span class="p">(</span><span class="n">binary_search</span><span class="p">).</span>
<span class="p">-</span><span class="ni">export</span><span class="p">([</span><span class="n">binary_search</span><span class="o">/</span><span class="mi">2</span><span class="p">]).</span>

<span class="nf">binary_search</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">List</span><span class="p">)</span>
    <span class="k">when</span>
        <span class="nb">is_number</span><span class="p">(</span><span class="nv">X</span><span class="p">),</span>
        <span class="nb">is_list</span><span class="p">(</span><span class="nv">List</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="n">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p">(</span><span class="nv">List</span><span class="p">)).</span>

<span class="nf">bs</span><span class="p">(_,</span> <span class="p">[])</span>   <span class="o">-&gt;</span> <span class="n">false</span><span class="p">;</span>
<span class="nf">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="p">[</span><span class="nv">X</span><span class="p">])</span>  <span class="o">-&gt;</span> <span class="n">true</span><span class="p">;</span>
<span class="nf">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="p">[_])</span>  <span class="o">-&gt;</span> <span class="n">false</span><span class="p">;</span>
<span class="nf">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">List</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="n">ok</span> <span class="o">=</span> <span class="nn">io</span><span class="p">:</span><span class="nf">format</span><span class="p">(</span><span class="s">&quot;bs(</span><span class="si">~p</span><span class="s">, </span><span class="si">~p</span><span class="s">)</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nv">X</span><span class="p">,</span> <span class="nv">List</span><span class="p">]),</span>
    <span class="nv">Length</span> <span class="o">=</span> <span class="nb">length</span><span class="p">(</span><span class="nv">List</span><span class="p">),</span>
    <span class="nv">Middle</span> <span class="o">=</span> <span class="p">(</span><span class="nv">Length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">div</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nv">Value</span> <span class="o">=</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">nth</span><span class="p">(</span><span class="nv">Middle</span><span class="p">,</span> <span class="nv">List</span><span class="p">),</span>
    <span class="k">if</span>
        <span class="nv">X</span> <span class="o">==</span> <span class="nv">Value</span> <span class="o">-&gt;</span> <span class="n">true</span><span class="p">;</span>
        <span class="nv">X</span> <span class="o">&gt;</span> <span class="nv">Value</span> <span class="o">-&gt;</span> <span class="n">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span><span class="nv">List</span><span class="p">,</span> <span class="nv">Middle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">Length</span><span class="p">));</span>
        <span class="nv">X</span> <span class="o">&lt;</span> <span class="nv">Value</span> <span class="o">-&gt;</span> <span class="n">bs</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span><span class="nv">List</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">Middle</span><span class="p">))</span>
    <span class="k">end</span><span class="p">.</span>
</pre></div>


<h2>Putting it to&nbsp;use</h2>
<div class="highlight"><pre><span></span><span class="sc">$ </span><span class="n">erl</span>
<span class="nv">Erlang</span><span class="o">/</span><span class="nv">OTP</span> <span class="mi">18</span> <span class="p">[</span><span class="n">erts</span><span class="o">-</span><span class="mi">7</span><span class="p">.</span><span class="mi">2</span><span class="p">.</span><span class="mi">1</span><span class="p">]</span> <span class="p">[</span><span class="n">source</span><span class="p">]</span> <span class="p">[</span><span class="mi">64</span><span class="o">-</span><span class="n">bit</span><span class="p">]</span> <span class="p">[</span><span class="nn">smp</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="p">[</span><span class="n">async</span><span class="o">-</span><span class="nn">threads</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span> <span class="p">[</span><span class="n">hipe</span><span class="p">]</span> <span class="p">[</span><span class="n">kernel</span><span class="o">-</span><span class="nn">poll</span><span class="p">:</span><span class="n">false</span><span class="p">]</span> <span class="p">[</span><span class="n">dtrace</span><span class="p">]</span>

<span class="nv">Eshell</span> <span class="nv">V7</span><span class="p">.</span><span class="mi">2</span><span class="p">.</span><span class="mi">1</span>  <span class="p">(</span><span class="n">abort</span> <span class="n">with</span> <span class="err">^</span><span class="nv">G</span><span class="p">)</span>
<span class="mi">1</span><span class="o">&gt;</span> <span class="n">c</span><span class="p">(</span><span class="n">binary_search</span><span class="p">).</span>
<span class="p">{</span><span class="n">ok</span><span class="p">,</span><span class="n">binary_search</span><span class="p">}</span>
<span class="mi">2</span><span class="o">&gt;</span> <span class="nn">binary_search</span><span class="p">:</span><span class="nf">binary_search</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]).</span>
<span class="nf">bs</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="nf">bs</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">true</span>
</pre></div>


<p>Cool! I know I left out a lot of stuff - mostly because I don&#8217;t want to rewrite all of <em><a href="http://learnyousomeerlang.com/">Learn You Some Erlang for Great&nbsp;Good!</a></em></p>
<p>And I really hope this piques your interest to learn it more formally. If you want to learn more about Erlang, I <em>highly</em> recommend reading some of the links&nbsp;below.</p>
<h2>Sources</h2>
<p>[1] <a href="http://www.erlang.org/course/history.html">http://www.erlang.org/course/history.html</a><br>
[2] <a href="http://www.erlang.org/course/history.html">http://veldstra.org/whyerlang/</a><br>
[3] <a href="http://learnyousomeerlang.com/">http://learnyousomeerlang.com/</a>  </p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/mining-18000-texts-for-fun-and-no-profit.html" rel="bookmark" title="Permalink to Mining 18000 texts for fun and no profit">Mining 18000 texts for fun and no&nbsp;profit</a>
    </h1>
    <span class="post-date">December 27, 2015</span>

    <h3>Well, maybe a little bit of&nbsp;profit.</h3>
<p><strong>text-graph</strong> is a data visualization of a network graph of based on 18,000 texts, with weighted edges representing sentiment degree between named&nbsp;entities.</p>
<p>This is a port of a write-up for a project I made at 6Sense Data Hack in San Francisco. This won <em>Judges&#8217; Favorite Hack</em> and my round-trip flight ticket&#8217;s (<span class="caps">AUS</span> - <span class="caps">SFO</span>) worth, which is why I said a little bit of profit. It was also featured on their <a href="https://6sense.com/2015/08/datahack-2015-65-coders-14-teams-and-a-lot-of-data/" target="_blank">company blog</a>.</p>
<h2>Setup</h2>
<p>For a lot of data science-oriented tasks, the <a href='https://store.continuum.io/cshop/anaconda/' target='_blank'>Anaconda</a> distribution of Python will be awesome. <a href='https://www.jetbrains.com/pycharm/'>PyCharm</a> for static type-checking and quickly accessing docstrings, since I&#8217;m using a lot of unfamiliar&nbsp;libraries.</p>
<h2>Data&nbsp;wrangling</h2>
<ul>
<li>Grab texts from Go <span class="caps">SMS</span> Pro (an alternative text-messaging app) backups (<span class="caps">XML</span>&nbsp;format)</li>
<li>Parse <span class="caps">XML</span> tree using <code>cElementTree</code> from the <code>xml</code> Python lib to get contact names, text,&nbsp;etc.</li>
<li>Create in-memory data structures in Python using data from the <span class="caps">XML</span>&nbsp;tree:</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TextCorpus</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;It&#39;s a graph.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contacts</span> <span class="o">=</span> <span class="n">get_contact_objs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contact_names</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">global_adj_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span>
                                            <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;adj_list&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">contacts</span><span class="p">)</span>
                                                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">global_pair_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">contacts</span><span class="p">),</span>
                                                <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;adj_list&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">contacts</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">global_pair_flat_list</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;adj_list&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">contacts</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Contact</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Contact obj reprs one of the people I&#39;ve contacted.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">get_name_from_fn</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">messages</span> <span class="o">=</span> <span class="n">get_texts</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">messages_str_list</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">messages</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links</span> <span class="o">=</span> <span class="n">get_mentions_msg_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">messages_as_str_list</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unweighted_links</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">get_mentions_msg_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">messages_as_str_list</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weighted_links</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">get_mentions_msg_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">messages_as_str_list</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adjacency_list</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">]),</span>
                                            <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">get_mentions_msg_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">messages_as_str_list</span><span class="p">))))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sentiment_links</span> <span class="o">=</span> <span class="n">get_sentiment_link_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">weighted_links</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">avg_sentiment</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sentiment_links</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">0</span>
                                 <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sentiment_links</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sentiment_links</span><span class="p">)</span>
</pre></div>


<h2>Anonymizing&nbsp;data</h2>
<p>There&#8217;s definitely a concern for privacy since these are texts between my&nbsp;friends&#8230;</p>
<p>For each <code>Contact</code> in <code>TextCorpus</code>, grab their <code>TextMessage</code> objs. If a contact name is in the body of the text, perform a hex digest of the name and <code>humanize</code> the&nbsp;hash.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">humanhash</span>
<span class="kn">import</span> <span class="nn">hashlib</span>

<span class="k">class</span> <span class="nc">TextMessage</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A TextMessage obj&#39;s attrs correspond to the XML tags I care about.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">posix</span><span class="p">,</span> <span class="n">sent</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">sender</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msg_id</span> <span class="o">=</span> <span class="n">msg_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">posix</span> <span class="o">=</span> <span class="n">posix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sent</span> <span class="o">=</span> <span class="n">sent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s1">&#39;neutral&#39;</span> <span class="k">if</span> <span class="n">body</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">anonymize</span><span class="p">(</span><span class="n">body</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mentions</span> <span class="o">=</span> <span class="n">get_mentions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sender</span> <span class="o">=</span> <span class="n">sender</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sent</span> <span class="ow">is</span> <span class="bp">False</span> <span class="k">else</span> <span class="s1">&#39;rainier&#39;</span>

<span class="k">def</span> <span class="nf">anonymize</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Anonymizes a single text body.</span>
<span class="sd">    e.g. &#39;Alice: Bob is awesome&#39; -&gt; &#39;zero-phone-quantum-anchorage: waffle-panda-theory-rushmore is awesome&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">orig</span><span class="p">,</span> <span class="n">hmhashed</span> <span class="ow">in</span> <span class="n">names</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">orig</span><span class="p">,</span> <span class="n">hmhashed</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>

<span class="k">def</span> <span class="nf">digest_and_humanize</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">()</span>
    <span class="n">m</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">humanhash</span><span class="o">.</span><span class="n">humanize</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">())</span>
</pre></div>


<h2>Sentiment&nbsp;analysis</h2>
<p>In the interest of time at the hackathon, I used pre-trained models from <a href="http://indico.io" target="_blank">Indico</a>&#8216;s high-quality sentiment <span class="caps">API</span> on short texts. They report about a 93% accuracy rate on the <span class="caps">IMDB</span> movie review&nbsp;corpus.</p>
<p><em>Aside: There are lots of papers and tutorials on sentiment analysis algorithms using machine learning. Some &#8216;not really machine learning&#8217; methods involve using a list of &#8216;happy&#8217; words such as &#8216;awesome&#8217; and &#8216;great&#8217; to increase the sentiment. Could also classifiers such as Naïve Bayes or topic modeling techniques</em>. But&nbsp;anyway&#8230;</p>
<p>Since I can only freely hit the Indico <span class="caps">API</span> 100,000 times, I had to find a way to store <span class="caps">API</span> call results persistently, and also unit test. I could have used a database, but for now, <code>pandas</code> has good tools for parsing&nbsp;CSVs.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">texts.config</span> <span class="kn">import</span> <span class="n">INDICO_API_KEY</span>

<span class="k">def</span> <span class="nf">indico_batch_sentiment</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;a ONE-OFF method to call the indico.io API to HQ batch sentiment 18192 texts.</span>

<span class="sd">    Stores it as sentiments.csv in the working dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sentiments.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">texts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;texts/filenames.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">filenames</span><span class="p">:</span>
            <span class="n">fn_list</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">,</span> <span class="p">[</span><span class="n">filename</span> <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">])</span>
            <span class="n">fn_list</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;texts/texts/&#39;</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="n">fn_list</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">fn_list</span><span class="p">:</span>
                <span class="n">texts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_texts</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span> <span class="c1"># returns TextMessage object</span>
        <span class="n">texts</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">texts</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;indico_sentiment_hq_errors.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">error_log</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">:</span>
                <span class="n">sentiment_result</span> <span class="o">=</span> <span class="bp">None</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">sentiment_result</span> <span class="o">=</span> <span class="n">sentiment_hq</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">api_key</span><span class="o">=</span><span class="n">INDICO_API_KEY</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">error_log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="k">finally</span><span class="p">:</span>
                    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="nb">unicode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span>
                                     <span class="p">[</span><span class="n">text</span><span class="o">.</span><span class="n">msg_id</span><span class="p">,</span> <span class="n">text</span><span class="o">.</span><span class="n">posix</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">sent</span><span class="p">),</span>
                                      <span class="n">text</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">mentions</span><span class="p">),</span> <span class="n">sentiment_result</span><span class="p">]])</span>
</pre></div>


<h2>Static&nbsp;visualization</h2>
<p><img alt="Graph viz should be here" src="/images/text-graph.png"></p>
<h2>Ways to&nbsp;improve</h2>
<ul>
<li>Didn&#8217;t include emoji 👀 or use a different encoding for them because it was breaking Python&#8217;s standard library csv file <span class="caps">IO</span>. Of course, I was going back and forth between <code>pandas</code> and <code>csvfile</code>. Could be factored into sentiment&nbsp;somehow&#8230;</li>
<li>I have a contact named Will&#8230; maybe y&#8217;all could guess what happened then, or what <em>will</em> happen if people use that&nbsp;word&#8230;</li>
<li>I could have gotten Facebook&#8217;s data dump or backed up all my texts from this year as well. But I think at like 18200 texts my computer could handle enough. For a larger scale operation I could use an <span class="caps">AWS</span> instance or&nbsp;something.</li>
</ul>
<p>The code is <a href="https://github.com/rainiera/text-graph" target="_blank">here</a>. Even though I haven&#8217;t touched it in a while, I&#8217;m always dreaming of things to add on to&nbsp;it.</p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/seeing-if-this-script-worked.html" rel="bookmark" title="Permalink to Seeing if this script worked">Seeing if this script&nbsp;worked</a>
    </h1>
    <span class="post-date">December 27, 2015</span>

    <p>Automates writing test content with correct metadata for Pelican. This is the partial code for it, which can also be found <a href="https://github.com/rainiera/dotfiles/blob/master/scripts/write_more.py">here</a>:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;/Users/rainierababao/cs/rainier/content/&quot;</span><span class="p">)</span>
<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">arg</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;{}.md&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">((</span><span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">)),</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">beak</span><span class="p">:</span>
    <span class="n">beak</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Title: {}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">((</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">)))</span>
    <span class="n">beak</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Date: {}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)))</span>
    <span class="n">beak</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Category: General</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">beak</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Automates writing test content...&quot;</span><span class="p">)</span>
    <span class="c1"># ...turtles all the way down :)</span>
</pre></div>


<p>And I ran this to automate publishing it, dubbed <a href="https://github.com/rainiera/dotfiles/blob/master/scripts/fly-pelican">fly-pelican</a>:</p>
<div class="highlight"><pre><span></span><span class="nb">source</span> activate blog
<span class="nb">cd</span> /Users/rainierababao/cs/rainier
pelican content -o output -s pelicanconf.py
ghp-import output
git push git@github.com:rainiera/rainiera.github.io.git gh-pages:master
<span class="nb">echo</span> <span class="s2">&quot;Published!&quot;</span>
</pre></div>


<p><code>blog</code> is just a conda env I use for site&nbsp;development.</p>
<p>Made with ❤️ and automation in Austin, <span class="caps">TX</span></p>
  </div>
  <div class="post">
    <h1 class="post-title">
      <a href="/hello-world.html" rel="bookmark" title="Permalink to Hello World!">Hello&nbsp;World!</a>
    </h1>
    <span class="post-date">December 26, 2015</span>

    <div class="highlight"><pre><span></span><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
  </div>
</div>
      </div>

      <label for="sidebar-checkbox" class="sidebar-toggle"></label>

      <script>
        (function(document) {
          var i = 0;
          // snip empty header rows since markdown can't
          var rows = document.querySelectorAll('tr');
          for(i=0; i<rows.length; i++) {
            var ths = rows[i].querySelectorAll('th');
            var rowlen = rows[i].children.length;
            if (ths.length > 0 && ths.length === rowlen) {
              rows[i].remove();
            }
          }
        })(document);
      </script>

      <script>
        /* Lanyon & Poole are Copyright (c) 2014 Mark Otto. Adapted to Pelican 20141223 and extended a bit by @thomaswilley */
        (function(document) {
          var toggle = document.querySelector('.sidebar-toggle');
          var sidebar = document.querySelector('#sidebar');
          var checkbox = document.querySelector('#sidebar-checkbox');
          document.addEventListener('click', function(e) {
            var target = e.target;
            if(!checkbox.checked ||
            sidebar.contains(target) ||
            (target === checkbox || target === toggle)) return;
            checkbox.checked = false;
            }, false);
            })(document);
      </script>
      <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-57948440-1']);
        _gaq.push(['_trackPageview']);
        (function() {
         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
         ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
         })();
       </script>
     </div>
  </body>
</html>